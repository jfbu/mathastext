<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>mathastext README</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <style type="text/css">body{font-size: 14pt;}</style>
  <style type="text/css">
      code {white-space: pre-wrap;}
      pre  {white-space: pre-wrap;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">mathastext README</h1>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#description" id="toc-description">DESCRIPTION</a></li>
<li><a href="#usage" id="toc-usage">USAGE</a></li>
<li><a href="#recent-changes" id="toc-recent-changes">RECENT CHANGES</a>
<ul>
<li><a href="#14e-20241026" id="toc-14e-20241026">1.4e
[2024/10/26]</a></li>
<li><a href="#14d-20241026" id="toc-14d-20241026">1.4d
[2024/10/26]</a></li>
<li><a href="#14c-20241021" id="toc-14c-20241021">1.4c
[2024/10/21]</a></li>
<li><a href="#14b-20240727" id="toc-14b-20240727">1.4b
[2024/07/27]</a></li>
<li><a href="#14a-20240720" id="toc-14a-20240720">1.4a
[2024/07/20]</a></li>
<li><a href="#14-20240720" id="toc-14-20240720">1.4
[2024/07/20]</a></li>
</ul></li>
</ul>
</nav>
<!-- -->
<pre><code>        +-------------------------------------------+
        +                                           +
        +                mathastext                 +
        +                                           +
        +     &#39;Use the text font in math mode&#39;      +
        +                                           +
        +-------------------------------------------+</code></pre>
<p>This Work may be distributed and/or modified under the conditions of
the <a href="https://www.latex-project.org/lppl/lppl-1-3c.txt">LPPL
1.3c</a></p>
<p>The Author of this Work is Jean-Francois B.
(<code>2589111+jfbu@users.noreply.github.com</code>)</p>
<p>Copyright (C) 2011-2019, 2022-2024 Jean-Francois B.</p>
<pre><code>  Source: mathastext.dtx 1.4e 2024/10/26</code></pre>
<h1 id="description">DESCRIPTION</h1>
<p>Optimal typographical results for documents containing mathematical
symbols can only be hoped for with math fonts specifically designed to
match a given text typeface. Although the list of freely available math
fonts (alongside the Computer Modern and AMS extension fonts) is slowly
expanding (fourier, kpfonts, mathdesign, pxfonts, txfonts, newpx, newtx,
...) it remains limited, and the situation is even worse with Unicode
fonts (XeTeX/LuaTeX). So if you can't find a math font which fits well
with your favorite text font, and wish to still be able to typeset
mathematical documents, perhaps not of the highest typographical
quality, but at least not subjected to obvious visual incompatibilities
between your text font and the math fonts, try out mathastext: it will
simply use the text font also for the math!</p>
<ul>
<li><a href="mathastext.html"
class="uri">mathastext.html</a></li>
<li><a href="showcase.html"
class="uri">showcase.html</a></li>
</ul>
<h1 id="usage">USAGE</h1>
<p><code>mathastext</code> is a LaTeX package</p>
<pre><code>  \usepackage{mathastext}</code></pre>
<p>The document will use in math mode the text font as configured at
package loading time, for these characters:</p>
<pre><code>  abcdefghijklmnopqrstuvwxyz
  ABCDEFGHIJKLMNOPQRSTUVWXYZ
  0123456789
  !?,.:;+-=()[]/#$%&amp;&lt;&gt;|{}\</code></pre>
<p>Main options: <code>italic</code>, <code>frenchmath</code>,
<code>subdued</code>, <code>LGRgreek</code>.</p>
<ul>
<li>Use the <code>italic</code> option to get the Latin letters in math
mode be in italics. Digits and log-like operator names (pre-defined as
well as user-defined) will be in the same shape as the text font
(usually this means upright).</li>
<li>each <code>\Mathastext[&lt;name&gt;]</code> in the preamble defines
a math version to be later activated in the document body via the
command <code>\MTversion{&lt;name&gt;}</code>.</li>
<li>With the <code>subdued</code> option, mathastext will be active only
inside such math versions.</li>
<li>For documents needing Greek letters the following is possible:
<ul>
<li>no option: Greek letters defined by other packages,</li>
<li><code>eulergreek</code>: use the Euler font for the Greek
letters,</li>
<li><code>symbolgreek</code>: use the Postscript Symbol font for the
Greek letters.</li>
<li><code>LGRgreek</code>: use the document text font in LGR encoding.
Further options specify the shape of the lowercase and uppercase Greek
glyphs; starting with v1.15c it is possible to use multiple distinct LGR
fonts in the same document.</li>
</ul></li>
<li>Commands are provided to scale the Euler and Symbol fonts by an
arbitrary factor to let them fit better with the document text
font.</li>
<li><code>\MTsetmathskips</code> allows to set up extra spacings around
letters.</li>
</ul>
<h1 id="recent-changes">RECENT CHANGES</h1>
<h2 id="14e-20241026">1.4e [2024/10/26]</h2>
<ul>
<li><p>Fix a bug dating back to <code>1.3y</code> which caused under
<code>LGRgreek</code> or <code>LGRgreeks</code> options an
<code>\MTversion{normal}</code> to raise an <code>Extra   \else</code>
error (not if <code>subdued</code>). The unit test which could have
shown this had been left aside at <code>1.4d</code> because it was so
old that some matters unrelated to the package prevented its immediate
use... alas...</p></li>
<li><p>Fix one more <code>1.4</code> regression: the (not really
recommended) option <code>unimathaccents</code> was broken. Again a test
file existed but it had been left apart from those automatically built,
for some unknown reason...</p></li>
</ul>
<h2 id="14d-20241026">1.4d [2024/10/26]</h2>
<ul>
<li><p>Fix one more <code>1.4</code> regression (the worst one by far):
<code>$f''$</code> caused a crash. Fortunately, the
<code>everymath</code> option which re-enacts legacy code could be used
as a <em>temporary emergency work-around</em>. Thanks to Enrico Gregorio
for report.</p></li>
<li><p>The <code>1.4b</code> option <code>noletters</code> did not
prevent the package from defining math mode symbols <code>\inodot</code>
and <code>\jnodot</code>. It now does.</p></li>
<li><p>Fix a longstanding legacy bug which would have caused a crash if
<code>\MTnonlettersobeymathxx</code> had been used with
<code>XeLaTeX</code> in a document with the character <code>-</code>
being a Babel shorthand.</p></li>
<li><p>Usage of <code>\Mathastext</code> or
<code>\MTDeclareVersion</code> to declare a math version associated with
an exotic non-text font encoding such as <code>OML</code> is
theoretically possible (although of dubious practical use except for
stress tests) but was broken since <code>1.3u</code> due to internals
relying on <code>LaTeX</code> commands associated with text font
encodings (for example to define <code>\inodot</code> using
<code>\i</code>, or the <code>\hbar</code> with the help of the accent
command <code>\=</code>) and which are not available in such context.
This release handles such situation gracefully via warnings, rather than
causing low level errors.</p></li>
<li><p>Improve looks in the PDF of this Change log.</p></li>
</ul>
<h2 id="14c-20241021">1.4c [2024/10/21]</h2>
<ul>
<li><p>Fix a regression at <code>1.4</code>: under <code>XeLaTeX</code>,
loading <code>mathastext</code> caused an error if
<code>unicode-math</code> and its <code>\setmathfont</code> had been
used prior ("<em>Extended mathchar used as mathchar</em>" in relation to
the minus sign character). Thanks to Michael Roland for report.</p>
<p>Keep in mind though that the documentation (see 1.4.15 Unicode
engines) has always said that the package "<em>is expected to be most
definitely incompatible with unicode-math</em>".</p></li>
<li><p>Fix another regression at <code>1.4</code>, related to the same
code and also avoided with <code>everymath</code> option, but showing
with all engines. It caused <code>\MTnonlettersdonotobeymathxx</code>,
if used, to reset the minus sign to its status as prior to the loading
of <code>mathastext</code>, whereas it should have used the (by default)
mathversion dependent one (which defaults to the en-dash in the font
encoding as stored by <code>mathastext</code> in the extended math
version).</p></li>
<li><p><code>\Relbar</code> and <code>\relbar</code> redeclarations
(needed as they are used by <code>LaTeX</code> for arrows, and the equal
and minus signs if picked from the text font may not work well in-there)
are now done via <code>\DeclareRobustCommand</code> also with package
<code>amsmath</code> to match the current behavior of the latter. Note
though that they will use the equal and minus signs as in place at
package loading time, the documentation does say that
<code>mathastext</code> should be loaded last.</p></li>
</ul>
<h2 id="14b-20240727">1.4b [2024/07/27]</h2>
<ul>
<li><p>Fix a regression at <code>1.4</code> regarding option
<code>nodigits</code>.</p></li>
<li><p>New option: <code>noletters</code>. <em>I am in old age now so I
can provide an option completely antithetical to my life
work</em>.</p></li>
<li><p>Option <code>everymath</code> which is destined to be removed at
next major release warns user about it. As major releases tend to happen
once per decade I think the constant nagging will become insufferable
and you will adapt to the <code>1.4</code> changes rather than
persisting into using this option.</p></li>
</ul>
<h2 id="14a-20240720">1.4a [2024/07/20]</h2>
<ul>
<li>There was a documentation glitch in 1.4 and also a problem with the
<code>\MTprimeskip</code> feature being lost under the emergency
fall-back <code>everymath</code> option.</li>
</ul>
<h2 id="14-20240720">1.4 [2024/07/20]</h2>
<ul>
<li><p>Since 1.2 of 2012/12/20, mathastext has used <em>mathematically
active</em> characters to propose certain advanced functionalities. For
reasons half lost in the mists of time but whose main one was surely to
keep the meaning of the active shape of characters unchanged outside of
math mode, this mathematical activation, and (in most cases) the
definitions of what active characters do, were done again at
<em>each</em> entrance into math mode. At this 1.4 release, mathastext
does <em>not inject any code whatsoever</em> into the
<code>\everymath</code> and <code>\everydisplay</code> toks registers
anymore (<em>except</em> for one font-related hack needed under
<code>LuaLaTeX</code>, see below). Your documents will compile a tiny
bit faster.</p></li>
<li><p>In (<em>unsual</em>) documents where users play with catcodes and
mathcodes it is <em>impossible</em> to keep exact backward
compatibility, because documented user commands which acted formerly as
toggles with delayed action now will enact changes immediately if in the
document body. In practice consequences are expected to be few, because
catcode active characters are (as was already the case with earlier
releases) hacked only when they are Babel shorthands and they are then
modified in a way altering only their action in math mode. The precise
description of what mathastext does when mathematically activating (or
not) a character, depending on circumstances, is to be found among
small-print comments in the section "Extended scope of the math
alphabets commands". See also the documentation of the
<code>\MTmathactiveletters</code> command for some specifics regarding
ascii letters.</p></li>
<li><p>New option: <code>everymath</code>. It instructs mathastext to
revert (partially) to its legacy code which uses
<code>\everymath/\everydisplay</code>. This reversal is partial, the
handling of ascii letters not being included into it. The
<code>everymath</code> option is there <em>only to try as a quick
fix</em> in case transition to this release causes a major problem in a
user document and time is lacking to investigate. <em>Please report to
the author such issues</em>. Option <code>everymath</code> is destined
to be removed at next major release.</p></li>
<li><p>New option: <code>activedigits</code>. Enjoy.</p></li>
<li><p>It is now easier to hook into the mathastext architecture for
mathematically activated ascii letters. See the new section "Hacking
letters (and even digits) for special tasks".</p></li>
<li><p>Bugfix: do not override special behavior of the math mode dot in
babel-spanish.</p></li>
<li><p>Bugfix: A <em>desperate</em> hack related to
<code>LuaLaTeX</code> font matters and dating back to 1.3o 2016/05/03
had been for some years in dire need of an update regarding fonts using
<code>Renderer=HarfBuzz</code>. This is done now. Thanks to tex.sx
<code>user691586</code> for report. This is currently the sole remaining
usage of <code>\everymath/\everydisplay</code>.</p></li>
<li><p>Bugfix: <code>\MTexplicitbracesobeymathxx</code> (which is
related to <code>\{</code> and <code>\}</code>) was without effect since
an upstream <code>LaTeX</code> change at its 2020-02-02
release.</p></li>
<li><p>With option symbolmisc, those math symbol macros formerly defined
via <code>\DeclareRobustCommand</code> are now declared via
<code>\protected\def</code>.</p></li>
<li><p>Removal of legacy branches previously kept to support
<code>LaTeX</code> earlier than 2020-02-02.</p></li>
<li><p>Removal of support for EU1 and EU2 font encodings.</p></li>
<li><p>Option <code>noasterisk</code> deprecated at 1.2d 2013/01/02 has
(finally) been removed.</p></li>
<li><p>Four test files previously included and auto-extracted from the
distributed dtx have been dropped. One of them is still available on the
package homepage.</p></li>
<li><p>Some parts of the documentation have been massively re-ordered
and even to some extent improved. But there may be some occasions where
obsolete statements will be found having the legacy
<code>\everymath/\everydisplay</code> situation as background.</p></li>
</ul>
</body>
</html>
