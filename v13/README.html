<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <style type="text/css">body{font-size: 14pt;}</style>
  <style type="text/css">
      code {white-space: pre-wrap;}
      pre  {white-space: pre-wrap;}
  </style>
</head>
<body>
<nav id="TOC">
<ul>
<li><a>DESCRIPTION</a></li>
<li><a>USAGE</a></li>
<li><a>RECENT CHANGES</a><ul>
<li><a>1.3w [2019/11/16]</a></li>
<li><a>1.3v [2019/09/19]</a></li>
<li><a>1.3u (2019/08/20)</a></li>
</ul></li>
</ul>
</nav>
<!-- -->
<pre><code>        +-------------------------------------------+
        +                                           +
        +                mathastext                 +
        +                                           +
        +     &#39;Use the text font in math mode&#39;      +
        +                                           +
        +-------------------------------------------+</code></pre>
<p>This Work may be distributed and/or modified under the conditions of the <a href="http://www.latex-project.org/lppl/lppl-1-3c.txt">LPPL1.3c</a></p>
<p>The Author of this Work is Jean-Francois B.</p>
<p>Copyright (C) 2011-2019 Jean-Francois B. (<code>2589111+jfbu@users.noreply.github.com</code>)</p>
<pre><code>  Source: mathastext.dtx 1.3w 2019/11/16</code></pre>
<h1>DESCRIPTION</h1>
<p>Optimal typographical results for documents containing mathematical symbols can only be hoped for with math fonts specifically designed to match a given text typeface. Although the list of freely available math fonts (alongside the Computer Modern and AMS extension fonts) is slowly expanding (fourier, kpfonts, mathdesign, pxfonts, txfonts, newpx, newtx, ...) it remains limited, and the situation is even worse with Unicode fonts (XeTeX/LuaTeX). So if you can't find a math font which fits well with your favorite text font, and wish to still be able to typeset mathematical documents, perhaps not of the highest typographical quality, but at least not subjected to obvious visual incompatibilities between your text font and the math fonts, try out mathastext: it will simply use the text font also for the math!</p>
<ul>
<li><a href="mathastext.html" class="uri">mathastext.html</a></li>
<li><a href="showcase.html" class="uri">showcase.html</a></li>
</ul>
<h1>USAGE</h1>
<p><code>mathastext</code> is a LaTeX package</p>
<pre><code>  \usepackage{mathastext}</code></pre>
<p>The document will use in math mode the text font as configured at package loading time, for these characters:</p>
<pre><code>  abcdefghijklmnopqrstuvwxyz
  ABCDEFGHIJKLMNOPQRSTUVWXYZ
  0123456789
  !?,.:;+-=()[]/#$%&amp;&lt;&gt;|{}\</code></pre>
<p>Main options: <code>italic</code>, <code>subdued</code>, <code>LGRgreek</code>.</p>
<ul>
<li>Use the <code>italic</code> option to get the Latin letters in math mode be in italics. Digits and log-like operator names (pre-defined as well as user-defined) will be in the same shape as the text font (usually this means upright).</li>
<li>each <code>\Mathastext[&lt;name&gt;]</code> in the preamble defines a math version to be later activated in the document body via the command <code>\MTversion{&lt;name&gt;}</code>.</li>
<li>With the <code>subdued</code> option, mathastext will be active only inside such math versions.</li>
<li>For documents needing Greek letters the following is possible:
<ul>
<li>no option: Greek letters defined by other packages,</li>
<li><code>eulergreek</code>: use the Euler font for the Greek letters,</li>
<li><code>symbolgreek</code>: use the Postscript Symbol font for the Greek letters.</li>
<li><code>LGRgreek</code>: use the document text font in LGR encoding. Further options specify the shape of the lowercase and uppercase Greek glyphs; starting with v1.15c it is possible to use multiple distinct LGR fonts in the same document.</li>
</ul></li>
<li>Commands are provided to scale the Euler and Symbol fonts by an arbitrary factor to let them fit better with the document text font.</li>
<li><code>\MTsetmathskips</code> allows to set up extra spacings around letters.</li>
</ul>
<h1>RECENT CHANGES</h1>
<h2>1.3w [2019/11/16]</h2>
<ul>
<li><p>LaTeX 2019-10-01 release (up to patch level 3 inclusive) together with <code>amsmath</code> conspired <code>:-)</code> to break <code>mathastext</code>, in connexion with math accents. This has been fixed upstream, but I am releasing nevertheless a hot fix to this <a href="https://github.com/latex3/latex2e/issues/216">issue</a> (this is compatible with future LaTeX releases).</p></li>
<li><p>Fix: the <code>\hbar</code> is originally a robust command but becomes a <code>\mathchardef</code> token if (e.g.) <code>amsfonts</code> is loaded and then with recent LaTeX <code>\hbar&lt;space&gt;</code> is made undefined and <code>mathastext</code> definition of it remained without effect. The <code>\mathastext</code> own <code>\hbar</code> is now defined <code>\protected</code>.</p></li>
<li><p>Fix: option <code>noendash</code> (or <code>symboldelimiters</code> which implies it) caused (since <code>1.3u</code>) a bug under Unicode engines when setting up the minus sign.</p></li>
<li><p>Version names declared via the optional argument of <code>\Mathastext</code> or as first argument of <code>\MTDeclareVersion</code> must not be <code>normal</code> or <code>bold</code>. Enforce that! (this was marked as a bug to fix since <code>2012/10/24</code>...)</p></li>
</ul>
<h2>1.3v [2019/09/19]</h2>
<ul>
<li><p>LaTeX 2019-10-01 release has made more math macros robust. This applies in particular to the math accents and to the <code>\hbar</code>. This required for mathastext to adapt. Also <code>\leftarrowfill</code> and <code>\rightarrowfill</code> are now defined robust by the kernel, hence mathastext does the same. These changes are dropped if mathastext detects an older LaTeX format.</p></li>
<li>These LaTeX kernel changes motivated an examination of some redefinitions done (optionally) by mathastext:
<ul>
<li>The user math alphabet macros got redefined as expanding to some other (robust) math alphabet macros, but were not robust in the strict sense. This does cause some issues for moving arguments in the context of multiple math versions, hence it was a bug. The special behaviour of the math alphabet commands (they redefine themselves and other macros on first use) makes is somewhat problematic for mathastext to keep them updated across math versions and at the same time strictly LaTeX2e robust. Thus mathastext now requires the e-TeX primitive <code>\protected</code> and uses it for the definitions of the user level math alphabet macros.</li>
<li>There are a number of <code>\mathchardef</code> tokens which (under certain options and/or configuration via the package user interface), mathastext redefines as macros. These macros cause no issue in moving arguments (they are not &quot;fragile&quot;), still it is probably better if they expand only at the time of typesetting. To this effect they are now also <code>\protected</code>: <code>\exists</code>, <code>\forall</code>, <code>\colon</code>, <code>\setminus</code>, <code>\mid</code>, <code>\prod</code>, <code>\sum</code>, <code>\imath</code>, <code>\jmath</code>.</li>
<li>The macro <code>\vert</code> (which expands to a <code>\delimiter</code>) is now defined robust by LaTeX. Its mathastext redefinition is a <code>\protected</code> one rather.</li>
<li>The <code>\{</code> and <code>\}</code> (which get redefined only under <code>\MTexplicitbracesobeymathxx</code> regime) are now strictly robust in the LaTeX2e sense (formerly they were <code>\let</code> to some robust macros, and this did not make them strictly LaTeX2e-robust entities).</li>
</ul></li>
<li><p>The various changes in mathastext described in the previous item apply independently of the LaTeX release version. The LaTeX format itself requires the e-TeX extensions since 2015.</p></li>
</ul>
<h2>1.3u (2019/08/20)</h2>
<ul>
<li><p>new feature: the initial release dealt with only one font, and although shortly thereafter the 1.11 version added support for extended math versions, it was documented that some font-dependent set-up (minus as endash, dotless i and j, hbar, math accents) was done only once. This release makes the relevant characters font encoding savvy in each mathastext-extended math version. Thus, they should render correctly even with multiple math versions using fonts with varying encodings.</p>
<p>This reinforces importance of using <code>\MTversion</code> and not the LaTeX <code>\mathversion</code> when switching to a new math version (which got declared via the package interface). The implementation is compatible with Unicode engines and mixed usage of <code>TU</code> encoding (OpenType fonts) with traditional 8bits TeX font encodings. For all engines, all used (8bits) encodings must have been passed as options to the <code>fontenc</code> package.</p>
<p>Thanks to Falk Hanisch for feature request and code suggestions.</p></li>
<li><p>new option <code>unimathaccents</code>: this adds to option <code>mathaccents</code> the demand to use the text font accents for OpenType fonts in math mode via the <code>\Umathaccent</code> primitive. Indeed, as my testing showed that this gave non-satisfactory results both with XeTeX and LuaTeX regarding the horizontal placement of the accents, the main option <code>mathaccents</code> acts only on 8bits encoded fonts.</p></li>
<li><p>bugfix: the <code>\Mathastext</code> without optional argument forgot to repeat some font-encoding dependent initialization set-up done originally during package loading.</p></li>
<li><p>bugfix: under the <code>subdued</code> option macros <code>\MTmathactiveletters</code> or <code>\MTnonlettersobeymathxx</code> now act like no-ops if issued explicitly while in the <code>normal</code> or <code>bold</code> math version. Formerly, this was not the case and could cause bugs such as a disappearing minus sign in math mode.</p></li>
<li><p>bugfix: the letter <code>h</code> used in the <code>\hbar</code> obeyed the extra skips as set-up by <code>\MTsetmathskips</code>, badly interfering with the horizontal positioning of the bar accent. They are now ignored (as well as the added italic correction).</p></li>
</ul>
</body>
</html>
