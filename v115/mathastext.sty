%%
%% This is file `mathastext.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% mathastext.dtx  (with options: `package')
%% 
%%     Copyright (C) 2011, 2012 by Jean-Francois B.
%% 
%%     Many examples available at
%%        mathastext.html
%%     Please report errors to 2589111+jfbu@users.noreply.github.com
%% 
%%     This file may be distributed and/or modified under the
%%     conditions of the LaTeX Project Public License, either
%%     version 1.3 of this license or (at your option) any
%%     later version.  The latest version of this license is in
%%       http://www.latex-project.org/lppl.txt
%%     and version 1.3 or later is part of all distributions of
%%     LaTeX version 2003/12/01 or later.
%% 
%%     NO PERMISSION is granted to distribute a modified
%%     version of this file under its original name.
%% 
%%     The list of derived (unpacked) files belonging to the
%%     distribution and covered by LPPL is defined by the
%%     unpacking scripts (with extension .ins) which are part
%%     of the distribution.
%% 
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{mathastext}
         [2012/10/25 v1.15f Use the text font in math mode (jfB)]
\newif\ifXeTeX
\begingroup\expandafter\expandafter\expandafter\endgroup
\expandafter\ifx\csname XeTeXinterchartoks\endcsname\relax
  \XeTeXfalse
\else
  \XeTeXtrue
\fi
\newif\ifLuaTeX
\begingroup\expandafter\expandafter\expandafter\endgroup
\expandafter\ifx\csname directlua\endcsname\relax
  \LuaTeXfalse
\else
  \LuaTeXtrue
\fi
%%
\def\mt@oti{OT1}\def\mt@ti{T1}\def\mt@lyi{LY1}
\def\mt@eui{EU1}\def\mt@euii{EU2}
\newif\ifmt@goahead
\newif\ifmt@abort
\newif\ifmt@optionalparam
  \def\m@t@enc{\encodingdefault}
  \def\m@t@fam{\familydefault}
  \def\m@t@ser{\seriesdefault}
  \def\m@t@opsh{\shapedefault}  %% will be default shape for operator names
  \def\m@t@bold{\bfdefault}
  \def\m@t@ltsh{\shapedefault}  %% will be default shape for letters
  \edef\m@t@greekfont{\familydefault} %% v 1.15c
\newmuskip\m@t@existsmuskip  %% v 1.15e
\newmuskip\m@t@forallmuskip
\def\m@t@existsskip{1mu}
\def\m@t@forallskip{.6667mu}
\newif\ifmt@italic
    \DeclareOption{italic}{\mt@italictrue
        \def\m@t@ltsh{\itdefault}
        \def\m@t@existsskip{0mu}
        \def\m@t@forallskip{0mu}}
\newif\ifmt@frenchmath
    \DeclareOption{frenchmath}{\mt@frenchmathtrue\mt@italictrue
      \def\m@t@ltsh{\itdefault}}
%%
\newif\ifmt@endash\mt@endashtrue
    \DeclareOption{endash}{\mt@endashtrue}
    \DeclareOption{noendash}{\mt@endashfalse}
\newif\ifmt@emdash
    \DeclareOption{emdash}{\mt@emdashtrue\mt@endashfalse}
%%
\newif\ifmt@alldelims
    \DeclareOption{alldelims}{\mt@alldelimstrue}
\edef\mt@tmp{\encodingdefault}\ifx\mt@oti\mt@tmp\else\mt@alldelimstrue\fi
    \DeclareOption{nolessnomore}{\mt@alldelimsfalse}
%%
\newif\ifmt@noplus
    \DeclareOption{noplus}{\mt@noplustrue}
\newif\ifmt@nominus
    \DeclareOption{nominus}{\mt@nominustrue}
\DeclareOption{noplusnominus}{\ExecuteOptions{noplus,nominus}}
%%
\newif\ifmt@noparen
    \DeclareOption{noparenthesis}{\mt@noparentrue}
\newif\ifmt@nopunct
    \DeclareOption{nopunctuation}{\mt@nopuncttrue}
\newif\ifmt@noequal
    \DeclareOption{noequal}{\mt@noequaltrue}
\newif\ifmt@noexclam
    \DeclareOption{noexclam}{\mt@noexclamtrue}
\newif\ifmt@noast
    \DeclareOption{noasterisk}{\mt@noasttrue}
\newif\ifmt@nospecials
    \DeclareOption{nospecials}{\mt@nospecialstrue}
\DeclareOption{basic}{\ExecuteOptions{noparenthesis,nopunctuation,%
noplusnominus,noequal,noexclam,noasterisk,nospecials,nolessnomore}}
%%
\newif\ifmt@nohbar
    \DeclareOption{nohbar}{\mt@nohbartrue}
\newif\ifmt@nodigits
    \DeclareOption{nodigits}{\mt@nodigitstrue}
\newif\ifmt@defaultimath
    \DeclareOption{defaultimath}{\mt@defaultimathtrue}
\newif\ifmt@mathaccents
    \DeclareOption{mathaccents}{\mt@mathaccentstrue}
%%
\newif\ifmt@needsymbol
\newif\ifmt@symboldelimiters
    \DeclareOption{symboldelimiters}{\mt@needsymboltrue\mt@symboldelimiterstrue}
\newif\ifmt@symboldigits
    \DeclareOption{symboldigits}{\mt@needsymboltrue\mt@symboldigitstrue}
\newif\ifmt@symbolgreek
    \DeclareOption{symbolgreek}{\mt@needsymboltrue\mt@symbolgreektrue}
\newif\ifmt@symbolre
    \DeclareOption{symbolre}{\mt@needsymboltrue\mt@symbolretrue}
\newif\ifmt@symbolmisc
    \DeclareOption{symbolmisc}{\mt@needsymboltrue\mt@symbolmisctrue}
\DeclareOption{symbol}{\ExecuteOptions{symbolgreek,symbolmisc,symbolre}}
\DeclareOption{symbolmax}{\ExecuteOptions{symbol,symboldelimiters}}
%%
\newif\ifmt@needeuler
\newif\ifmt@eulerdigits
    \DeclareOption{eulerdigits}{\mt@needeulertrue\mt@eulerdigitstrue}
\newif\ifmt@eulergreek
    \DeclareOption{eulergreek}{\mt@needeulertrue\mt@eulergreektrue}
%%
\newif\ifmt@selfGreek
    \DeclareOption{selfGreek}{\mt@selfGreektrue}
\newif\ifmt@selfGreeks
    \DeclareOption{selfGreeks}{\mt@selfGreekstrue\mt@selfGreektrue}
\newif\ifmt@LGRgreek
    \DeclareOption{LGRgreek}{\mt@LGRgreektrue}
\newif\ifmt@LGRgreeks
    \DeclareOption{LGRgreeks}{\mt@LGRgreekstrue\mt@LGRgreektrue}
%%
\def\mt@greek@select{0}
\newif\ifmt@itgreek
\newif\ifmt@upgreek
    \DeclareOption{itgreek}{\mt@itgreektrue}
    \DeclareOption{upgreek}{\mt@upgreektrue}
    \DeclareOption{itGreek}{\def\mt@greek@select{1}}
    \DeclareOption{upGreek}{\def\mt@greek@select{2}}
%%
\newif\ifmt@defaultnormal
    \DeclareOption{defaultnormal}{\mt@defaultnormaltrue}
\newif\ifmt@defaultrm
    \DeclareOption{defaultrm}{\mt@defaultrmtrue}
\newif\ifmt@defaultbf
    \DeclareOption{defaultbf}{\mt@defaultbftrue}
\newif\ifmt@defaultit
    \DeclareOption{defaultit}{\mt@defaultittrue}
\newif\ifmt@defaultsf
    \DeclareOption{defaultsf}{\mt@defaultsftrue}
\newif\ifmt@defaulttt
    \DeclareOption{defaulttt}{\mt@defaulttttrue}
\newif\ifmt@nonormalbold
\DeclareOption{defaultalphabets}{\ExecuteOptions{defaultnormal,defaultrm,%
defaultbf,defaultit,defaultsf,defaulttt}\mt@nonormalboldtrue}
\newif\ifmt@defaultsizes
    \DeclareOption{defaultmathsizes}{\mt@defaultsizestrue}
\newif\ifmt@twelve
    \DeclareOption{12pt}{\mt@twelvetrue}
\newif\ifmt@fouriervec
    \DeclareOption{fouriervec}{\mt@fouriervectrue}
\newif\ifmt@subdued
    \DeclareOption{subdued}{\mt@subduedtrue}
\DeclareOption*{\PackageWarning{mathastext}{Unknown option `\CurrentOption'}}
\ProcessOptions\relax
\@ifpackageloaded{amsmath}
{\let\newmcodes@\relax} % brutal, but bye bye and don't come back.
{}
\ifmt@subdued
\def\mt@reserved#1\getanddefine@fonts\symletters#2#3\@nil{%
\def\mt@normalmv@letter{#2}}
\expandafter\mt@reserved\mv@normal\@nil
\def\mt@reserved#1\getanddefine@fonts\symletters#2#3\@nil{%
\def\mt@boldmv@letter{#2}}
\expandafter\mt@reserved\mv@bold\@nil
\def\mt@reserved#1\getanddefine@fonts\symoperators#2#3\@nil{%
\def\mt@normalmv@operator{#2}}
\expandafter\mt@reserved\mv@normal\@nil
\def\mt@reserved#1\getanddefine@fonts\symoperators#2#3\@nil{%
\def\mt@boldmv@operator{#2}}
\expandafter\mt@reserved\mv@bold\@nil
%%
\edef\mt@tmp{\encodingdefault}
\def\mt@reserved#1/#2/#3/#4/{\gdef\mt@debut{#1}\gdef\mt@reste{#2/#3/#4}}
\begingroup\escapechar\m@ne
\xdef\mt@funnyoti{\expandafter\string\csname OT1\endcsname}
\expandafter\expandafter\expandafter
\mt@reserved\expandafter\string\mt@normalmv@operator/
\endgroup
\ifx\mt@debut\mt@funnyoti\ifx\mt@tmp\mt@oti\def\mt@tmp{T1}\fi\fi
\edef\mt@normalmv@operator{\expandafter\noexpand\csname \mt@tmp/\mt@reste\endcsname}
\begingroup\escapechar\m@ne
\expandafter\expandafter\expandafter
\mt@reserved\expandafter\string\mt@boldmv@operator/
\endgroup
\ifx\mt@debut\mt@funnyoti\ifx\mt@tmp\mt@oti\def\mt@tmp{T1}\fi\fi
\edef\mt@boldmv@operator{\expandafter\noexpand\csname \mt@tmp/\mt@reste\endcsname}
\fi % fin de ce \ifmt@subdued
\DeclareSymbolFont{mtoperatorfont}
    {\m@t@enc}{\m@t@fam}{\m@t@ser}{\m@t@opsh}
\def\operator@font{\mathgroup\symmtoperatorfont}
\DeclareSymbolFont{mtletterfont}
       {\m@t@enc}{\m@t@fam}{\m@t@ser}{\m@t@ltsh}
\let\mt@alph@omicron\mathnormal
\@ifpackageloaded{fourier}{\ifsloped\else\let\mt@alph@omicron\mathrm\fi}{}
\DeclareSymbolFontAlphabet{\Mathnormal}{mtletterfont}
\DeclareSymbolFontAlphabet{\Mathrm}{mtoperatorfont}
\ifmt@nonormalbold\else
   \DeclareMathAlphabet{\mathnormalbold}{\m@t@enc}{\m@t@fam}{\m@t@bold}{\m@t@ltsh}
\fi\ifmt@defaultbf\else
   \DeclareMathAlphabet{\Mathbf}{\m@t@enc}{\m@t@fam}{\m@t@bold}{\m@t@opsh}
\fi\ifmt@defaultit\else
   \DeclareMathAlphabet{\Mathit}{\m@t@enc}{\m@t@fam}{\m@t@ser}{\itdefault}
\fi\ifmt@defaultsf\else
   \DeclareMathAlphabet{\Mathsf}{\m@t@enc}{\sfdefault}{\m@t@ser}{\m@t@opsh}
\fi\ifmt@defaulttt\else
   \DeclareMathAlphabet{\Mathtt}{\m@t@enc}{\ttdefault}{\m@t@ser}{\m@t@opsh}
\fi
\let\mt@original@normal\mathnormal
\let\mt@original@rm\mathrm
\let\mt@original@bf\mathbf
\let\mt@original@it\mathit
\let\mt@original@sf\mathsf
\let\mt@original@tt\mathtt
\def\mt@restorealphabets{% for subdued
\let\mathnormal\mt@original@normal
\let\mathrm\mt@original@rm
\let\mathbf\mt@original@bf
\let\mathit\mt@original@it
\let\mathsf\mt@original@sf
\let\mathtt\mt@original@tt}
\def\mt@setalphabets{%
\ifmt@defaultnormal\else\renewcommand{\mathnormal}{\Mathnormal}\fi
\ifmt@defaultrm\else\renewcommand{\mathrm}{\Mathrm}\fi
\ifmt@defaultbf\else\renewcommand{\mathbf}{\Mathbf}\fi
\ifmt@defaultit\else\renewcommand{\mathit}{\Mathit}\fi
\ifmt@defaultsf\else\renewcommand{\mathsf}{\Mathsf}\fi
\ifmt@defaulttt\else\renewcommand{\mathtt}{\Mathtt}\fi}
\ifmt@subdued\else\mt@setalphabets\fi
\def\mt@update@greeksh{
  \def\m@t@greek@lsh{\m@t@ltsh} %% default behavior
  \def\m@t@greek@ush{\m@t@opsh}
    \ifmt@itgreek\def\m@t@greek@lsh{\itdefault}
                     \def\m@t@greek@ush{\itdefault}\fi
    \ifmt@upgreek\def\m@t@greek@lsh{\updefault}
                     \def\m@t@greek@ush{\updefault}\fi
    \ifmt@frenchmath
      \ifmt@itgreek\else
      \ifmt@upgreek\else
        \def\m@t@greek@lsh{\m@t@opsh}
        \def\m@t@greek@ush{\m@t@opsh}
      \fi\fi
    \fi
    \ifcase\mt@greek@select
        \or\def\m@t@greek@ush{\itdefault}
        \or\def\m@t@greek@ush{\updefault}
    \fi}
\mt@update@greeksh
\ifmt@LGRgreek
    \DeclareFontEncoding{LGR}{}{}
    \DeclareSymbolFont{mtlgrfontlower}{LGR}
            {\m@t@fam}{\m@t@ser}{\m@t@greek@lsh}
    \DeclareSymbolFont{mtlgrfontupper}{LGR}
            {\m@t@fam}{\m@t@ser}{\m@t@greek@ush}
\else
\ifmt@selfGreek
        \DeclareSymbolFont{mtselfGreekfont}{OT1}
            {\m@t@fam}{\m@t@ser}{\m@t@greek@ush}
\fi\fi
\ifmt@needeuler
\DeclareSymbolFont{mteulervm}{U}{zeur}{m}{n}
\DeclareSymbolFontAlphabet{\MathEuler}{mteulervm}
\DeclareMathAlphabet{\MathEulerBold}{U}{zeur}{\m@t@bold}{n}
\fi
\newcommand\MTEulerScale[1]{\edef\zeu@Scale{#1}}
\let\MathastextEulerScale\MTEulerScale
\ifmt@needsymbol
 \def\psy@scale{1}
 \DeclareSymbolFont{mtpsymbol}{U}{psy}{m}{n}
 \DeclareSymbolFontAlphabet{\MathPSymbol}{mtpsymbol}
\fi
\newcommand\MTSymbolScale[1]{\edef\psy@scale{#1}}
\let\MathastextSymbolScale\MTSymbolScale
\DeclareRobustCommand\pmvec[1]{\mathord{\stackrel{\raisebox{-.5ex}%
{\tiny\boldmath$\mathord{\rightarrow}$}}{{}#1}}}
\ifmt@fouriervec
  \DeclareFontEncoding{FML}{}{}
  \DeclareFontSubstitution{FML}{futm}{m}{it}
  \DeclareSymbolFont{mtfourierpourvec}{FML}{futm}{m}{it}
  \SetSymbolFont{mtfourierpourvec}{bold}{FML}{futm}{b}{it}
  \DeclareMathAccent{\fouriervec}{\mathord}{mtfourierpourvec}{"7E}
\fi
\newcommand*\MTencoding[1]{\def\m@t@enc{#1}}
\newcommand*\MTfamily[1]{\def\m@t@fam{#1}}
\newcommand*\MTseries[1]{\def\m@t@ser{#1}}
\newcommand*\MTshape[1]{\def\m@t@opsh{#1}
  \ifmt@italic\else\def\m@t@ltsh{#1}\fi}
\newcommand*\MTboldvariant[1]{\def\m@t@bold{#1}}
\newcommand*\MTlettershape[1]{\def\m@t@ltsh{#1}}
\@onlypreamble\MTencoding
\@onlypreamble\MTfamily
\@onlypreamble\MTseries
\@onlypreamble\MTshape
\@onlypreamble\MTboldvariant
\@onlypreamble\MTlettershape
\let\Mathastextencoding\MTencoding
\let\Mathastextfamily\MTfamily
\let\Mathastextseries\MTseries
\let\Mathastextshape\MTshape
\let\Mathastextboldvariant\MTboldvariant
\let\Mathastextlettershape\MTlettershape
    \newcommand\MTitgreek{%
\mt@itgreektrue\mt@upgreekfalse\def\mt@greek@select{0}}
    \newcommand\MTupgreek{%
\mt@upgreektrue\mt@itgreekfalse\def\mt@greek@select{0}}
    \newcommand\MTitGreek{\def\mt@greek@select{1}}
    \newcommand\MTupGreek{\def\mt@greek@select{2}}
\@onlypreamble\MTitgreek
\@onlypreamble\MTupgreek
\@onlypreamble\MTitGreek
\@onlypreamble\MTitGreek
\let\Mathastextitgreek\MTitgreek
\let\Mathastextupgreek\MTupgreek
\let\MathastextitGreek\MTitGreek
\let\MathastextupGreek\MTupGreek
    \newcommand*\MTgreekfont[1]{\def\m@t@greekfont{#1}}
\@onlypreamble\MTgreekfont
\let\Mathastextgreekfont\MTgreekfont
\newcommand*\MTexistsskip[1]{\def\m@t@existsskip{#1}}
\newcommand*\MTforallskip[1]{\def\m@t@forallskip{#1}}
\@onlypreamble\MTexistsskip
\@onlypreamble\MTforallskip
\let\Mathastextexistsskip\MTexistsskip
\let\Mathastextforallskip\MTforallskip
\newcommand*\MTWillUse[5][\@empty]{
  \MTencoding{#2}
  \MTfamily{#3}
  \MTseries{#4}
  \MTshape{#5}
    \ifmt@italic\MTlettershape{\itdefault}\fi % was missing in v 1.14 and prior
  \ifx\@empty#1
  \else
%% we check if optional argument was [],  this does not detect [ ]
  \def\mt@tmp{#1}
   \ifx\@empty\mt@tmp\else\MTlettershape{#1}\fi
  \fi
  \Mathastext}
\@onlypreamble\MTWillUse
\let\MathastextWillUse\MTWillUse
\let\Mathastextwilluse\MTWillUse
\newcommand*\Mathastext[1][\@empty]{
\ifx\@empty#1 % no optional argument
  \mt@update@greeksh
  \edef\mt@encoding@normal{\m@t@enc}
  \edef\mt@family@normal{\m@t@fam}
  \edef\mt@series@normal{\m@t@ser}
  \edef\mt@shape@normal{\m@t@opsh}
  \edef\mt@ltshape@normal{\m@t@ltsh}
  \edef\mt@itdefault@normal{\itdefault}
  \edef\mt@rmdefault@normal{\rmdefault}
  \edef\mt@sfdefault@normal{\sfdefault}
  \edef\mt@ttdefault@normal{\ttdefault}
  \edef\mt@boldvariant@normal{\m@t@bold}
  \edef\mt@existsskip@normal{\m@t@existsskip}
  \edef\mt@forallskip@normal{\m@t@forallskip}
  \edef\mt@encoding@bold{\m@t@enc}
  \edef\mt@family@bold{\m@t@fam}
  \edef\mt@series@bold{\m@t@bold}
  \edef\mt@shape@bold{\m@t@opsh}
  \edef\mt@ltshape@bold{\m@t@ltsh}
  \edef\mt@boldvariant@bold{\m@t@bold}
  \edef\mt@itdefault@bold{\itdefault}
  \edef\mt@rmdefault@bold{\rmdefault}
  \edef\mt@sfdefault@bold{\sfdefault}
  \edef\mt@ttdefault@bold{\ttdefault}
  \edef\mt@existsskip@bold{\m@t@existsskip}
  \edef\mt@forallskip@bold{\m@t@forallskip}
\ifmt@subdued
  \edef\mt@existsskip@normal{0mu}
  \edef\mt@forallskip@normal{0mu}
  \edef\mt@existsskip@bold{0mu}
  \edef\mt@forallskip@bold{0mu}
\else
\ifmt@italic
\ifmt@frenchmath
        \expandafter\m@t@existsmuskip\m@t@existsskip
        \expandafter\m@t@forallmuskip\m@t@forallskip
\else
  \edef\mt@existsskip@normal{0mu}
  \edef\mt@forallskip@normal{0mu}
  \edef\mt@existsskip@bold{0mu}
  \edef\mt@forallskip@bold{0mu}
\fi\else
        \expandafter\m@t@existsmuskip\m@t@existsskip
        \expandafter\m@t@forallmuskip\m@t@forallskip
\fi\fi
%% v1.15f
\ifmt@nonormalbold\else
   \SetMathAlphabet{\mathnormalbold}{normal}{\mt@encoding@normal}
                                 {\mt@family@normal}
                                 {\mt@boldvariant@normal}
                                 {\mt@ltshape@normal}
   \SetMathAlphabet{\mathnormalbold}{bold}{\mt@encoding@bold}
                                 {\mt@family@bold}
                                 {\mt@boldvariant@bold}
                                 {\mt@ltshape@bold}
\fi
%% v1.15f adds \ifmt@default.. checks
\ifmt@subdued\else
   \SetSymbolFont{mtletterfont}{normal}{\mt@encoding@normal}
                                       {\mt@family@normal}
                                       {\mt@series@normal}
                                       {\mt@ltshape@normal}
   \SetSymbolFont{mtletterfont}{bold}  {\mt@encoding@bold}
                                       {\mt@family@bold}
                                       {\mt@series@bold}
                                       {\mt@ltshape@bold}
  \SetSymbolFont{mtoperatorfont}{normal}{\mt@encoding@normal}
                                       {\mt@family@normal}
                                       {\mt@series@normal}
                                       {\mt@shape@normal}
  \SetSymbolFont{mtoperatorfont}{bold} {\mt@encoding@bold}
                                       {\mt@family@bold}
                                       {\mt@series@bold}
                                       {\mt@shape@bold}
\ifmt@defaultbf\else
   \SetMathAlphabet{\Mathbf}{normal}{\mt@encoding@normal}
                                 {\mt@family@normal}
                                 {\mt@series@bold}
                                 {\mt@shape@normal}
   \SetMathAlphabet{\Mathbf}{bold}{\mt@encoding@bold}
                                 {\mt@family@bold}
                                 {\mt@series@bold}
                                 {\mt@shape@bold}
\fi\ifmt@defaultit\else
   \SetMathAlphabet{\Mathit}{normal}{\mt@encoding@normal}
                                 {\mt@family@normal}
                                 {\mt@series@normal}
                                 {\mt@itdefault@normal}
   \SetMathAlphabet{\Mathit}{bold}{\mt@encoding@bold}
                                 {\mt@family@bold}
                                 {\mt@series@bold}
                                 {\mt@itdefault@bold}
\fi\ifmt@defaultsf\else
   \SetMathAlphabet{\Mathsf}{normal}{\mt@encoding@normal}
                                 {\mt@sfdefault@normal}
                                 {\mt@series@normal}
                                 {\mt@shape@normal}
   \SetMathAlphabet{\Mathsf}{bold}{\mt@encoding@bold}
                                 {\mt@sfdefault@bold}
                                 {\mt@series@bold}
                                 {\mt@shape@bold}
\fi\ifmt@defaulttt\else
   \SetMathAlphabet{\Mathtt}{normal}{\mt@encoding@normal}
                                 {\mt@ttdefault@normal}
                                 {\mt@series@normal}
                                 {\mt@shape@normal}
   \SetMathAlphabet{\Mathtt}{bold}{\mt@encoding@bold}
                                 {\mt@ttdefault@bold}
                                 {\mt@series@bold}
                                 {\mt@shape@bold}
\fi\fi % de \ifmt@subdued
 \ifmt@needeuler
    \SetSymbolFont{mteulervm}{bold}{U}{zeur}{\mt@boldvariant@normal}{n}
    \SetMathAlphabet{\MathEulerBold}{normal}
               {U}{zeur}{\mt@boldvariant@normal}{n}
    \SetMathAlphabet{\MathEulerBold}{bold}
               {U}{zeur}{\mt@boldvariant@normal}{n}
 \fi
 \ifmt@needsymbol\SetSymbolFont{mtpsymbol}{bold}
                     {U}{psy}{\mt@boldvariant@normal}{n}
 \fi
\ifmt@subdued\else
\ifmt@LGRgreek
   \SetSymbolFont{mtlgrfontlower}{normal}{LGR}
            {\m@t@greekfont}{\mt@series@normal}{\m@t@greek@lsh}
   \SetSymbolFont{mtlgrfontlower}{bold}{LGR}
            {\m@t@greekfont}{\mt@boldvariant@normal}{\m@t@greek@lsh}
   \SetSymbolFont{mtlgrfontupper}{normal}{LGR}
            {\m@t@greekfont}{\mt@series@normal}{\m@t@greek@ush}
   \SetSymbolFont{mtlgrfontupper}{bold}{LGR}
            {\m@t@greekfont}{\mt@boldvariant@bold}{\m@t@greek@ush}
 \else
\ifmt@selfGreek
   \SetSymbolFont{mtselfGreekfont}{normal}{OT1}
            {\m@t@greekfont}{\mt@series@normal}{\m@t@greek@ush}
   \SetSymbolFont{mtselfGreekfont}{bold}{OT1}
            {\m@t@greekfont}{\mt@boldvariant@bold}{\m@t@greek@ush}
\fi\fi\fi
\ifmt@subdued
\typeout{** subdued mode will be activated for the normal and bold math versions}
\else
\typeout{** Latin letters in the normal (resp. bold) math versions are now^^J%
    ** set up to use the fonts
\mt@encoding@normal/\mt@family@normal/\mt@series@normal%
(\mt@boldvariant@normal)/\mt@ltshape@normal}
\ifmt@LGRgreek\typeout{** Greek letters (\m@t@greek@lsh/\m@t@greek@ush)
will use LGR/\m@t@greekfont}
\fi
\ifmt@nodigits\else\typeout{** Other characters (digits, ...)
and \protect\log-like names will be^^J%
** typeset with the \mt@shape@normal\space shape.}
\fi
\fi
\else % optional argument, then we rather do DeclareVersion
 \edef\mt@tmp{#1}
 \ifx\mt@tmp\@empty
    \Mathastext  % no infinite loop!
  \else
    \MTDeclareVersion[\m@t@ltsh]{#1}
         {\m@t@enc}{\m@t@fam}{\m@t@ser}{\m@t@opsh}
 \fi
\fi
}
\@onlypreamble\Mathastext
\newcommand*\MTDeclareVersion[6][\@empty]{
  \edef\mt@version{#2}
  \DeclareMathVersion{\mt@version}
  \expandafter\edef\csname mt@encoding@\mt@version\endcsname{#3}
  \expandafter\edef\csname mt@family@\mt@version\endcsname{#4}
  \expandafter\edef\csname mt@series@\mt@version\endcsname{#5}
  \expandafter\edef\csname mt@shape@\mt@version\endcsname{#6}
  \expandafter\edef\csname mt@boldvariant@\mt@version\endcsname{\m@t@bold}
  \expandafter\edef\csname mt@itdefault@\mt@version\endcsname{\itdefault}
  \expandafter\edef\csname mt@rmdefault@\mt@version\endcsname{\rmdefault}
  \expandafter\edef\csname mt@sfdefault@\mt@version\endcsname{\sfdefault}
  \expandafter\edef\csname mt@ttdefault@\mt@version\endcsname{\ttdefault}
  \expandafter\edef\csname mt@existsskip@\mt@version\endcsname{\m@t@existsskip}
  \expandafter\edef\csname mt@forallskip@\mt@version\endcsname{\m@t@forallskip}
  \mt@optionalparamfalse
    \ifx\@empty#1
    \else % we check nevertheless for [] situation, will not work with [ ]
       \def\mt@tmp{#1}
       \ifx\mt@tmp\@empty\else\mt@optionalparamtrue\fi
    \fi
  \ifmt@optionalparam
      \SetSymbolFont{mtletterfont}{#2}{#3}{#4}{#5}{#1}
    \typeout{** Latin letters in math version `#2' will use the font
    #3/#4/#5/#1^^J%
    ** Other characters (digits, ...) and \protect\log-like
    names will be in #6 shape.}
      \expandafter\edef\csname mt@ltshape@\mt@version\endcsname{#1}
  \else
    \ifmt@italic
      \SetSymbolFont{mtletterfont}{#2}{#3}{#4}{#5}{\m@t@ltsh}
    \typeout{** Latin letters in math version `#2' will use the font
    #3/#4/#5/\m@t@ltsh^^J%
    ** Other characters (digits, ...) and \protect\log-like names
                    will be in #6 shape.}
      \expandafter\edef\csname mt@ltshape@\mt@version\endcsname{\m@t@ltsh}
    \else
      \SetSymbolFont{mtletterfont}{#2}{#3}{#4}{#5}{#6}
    \typeout{** Latin letters in math version `#2' will use the fonts
    #3/#4/#5(\m@t@bold)/#6}
      \expandafter\edef\csname mt@ltshape@\mt@version\endcsname{#6}
    \fi
  \fi
  \ifmt@nonormalbold\else
  \SetMathAlphabet{\mathnormalbold}{#2}{#3}{#4}{\m@t@bold}
                                 {\csname
                                   mt@ltshape@\mt@version\endcsname}
  \fi
  \SetSymbolFont{mtoperatorfont}{#2}{#3}{#4}{#5}{#6}
  \ifmt@defaultbf\else\SetMathAlphabet{\Mathbf}{#2}{#3}{#4}{\m@t@bold}{#6}\fi
  \ifmt@defaultit\else\SetMathAlphabet{\Mathit}{#2}{#3}{#4}{#5}{\itdefault}\fi
  \ifmt@defaultsf\else\SetMathAlphabet{\Mathsf}{#2}{#3}{\sfdefault}{#5}{#6}\fi
  \ifmt@defaulttt\else\SetMathAlphabet{\Mathtt}{#2}{#3}{\ttdefault}{#5}{#6}\fi
  \ifmt@needeuler
      \SetMathAlphabet{\MathEulerBold}{#2}{U}{zeur}{\m@t@bold}{n}
  \fi
  \def\m@t@greek@lsh@loc{\csname mt@ltshape@\mt@version\endcsname}
  \def\m@t@greek@ush@loc{\csname mt@shape@\mt@version\endcsname}
    \ifmt@itgreek\def\m@t@greek@lsh@loc{\itdefault}
                     \def\m@t@greek@ush@loc{\itdefault}\fi
    \ifmt@upgreek\def\m@t@greek@lsh@loc{\updefault}
                     \def\m@t@greek@ush@loc{\updefault}\fi
    \ifmt@frenchmath
      \ifmt@itgreek\else
      \ifmt@upgreek\else
        \def\m@t@greek@lsh@loc{\csname mt@shape@\mt@version\endcsname}
        \def\m@t@greek@ush@loc{\csname mt@shape@\mt@version\endcsname}
      \fi\fi
    \fi
    \ifcase\mt@greek@select
        \or\def\m@t@greek@ush@loc{\itdefault}
        \or\def\m@t@greek@ush@loc{\updefault}
    \fi
 \ifmt@LGRgreeks
      \SetSymbolFont{mtlgrfontlower}{#2}{LGR}{#4}{#5}{\m@t@greek@lsh@loc}
      \SetSymbolFont{mtlgrfontupper}{#2}{LGR}{#4}{#5}{\m@t@greek@ush@loc}
   \typeout{** Greek letters (\m@t@greek@lsh@loc/\m@t@greek@ush@loc) will use
     LGR font #4}
 \else
 \ifmt@selfGreeks
      \SetSymbolFont{mtselfGreekfont}{#2}{OT1}{#4}{#5}{\m@t@greek@ush@loc}
   \typeout{** Capital Greek letters (\m@t@greek@lsh@loc/\m@t@greek@ush@loc)
     will use OT1 font #4}
 \else
 \ifmt@LGRgreek
      \SetSymbolFont{mtlgrfontlower}{#2}{LGR}{\m@t@greekfont}{#5}{\m@t@greek@lsh@loc}
      \SetSymbolFont{mtlgrfontupper}{#2}{LGR}{\m@t@greekfont}{#5}{\m@t@greek@ush@loc}
   \typeout{** Greek letters (\m@t@greek@lsh@loc/\m@t@greek@ush@loc) will use
     LGR font \m@t@greekfont}
 \else
 \ifmt@selfGreek
      \SetSymbolFont{mtselfGreekfont}{#2}{OT1}{\m@t@greekfont}{#5}{\m@t@greek@ush@loc}
   \typeout{** Capital Greek letters (\m@t@greek@lsh@loc/\m@t@greek@ush@loc)
     will use OT1 font \m@t@greekfont}
 \fi\fi\fi\fi
}
\@onlypreamble\MTDeclareVersion
\let\MathastextDeclareVersion\MTDeclareVersion
\newcommand*\MTVersion[2][\@empty]{%
    \mathversion{#2}%
    \ifx\@empty#1% no optional argument
        \edef\mt@tmp{#2}
    \else% we check nevertheless for [] situation, will not work with [ ]
       \def\mt@tmpa{#1}%
       \ifx\mt@tmpa\@empty\edef\mt@tmp{#2}%
       \else\edef\mt@tmp{#1}%
       \fi%
    \fi%
    \usefont{\csname mt@encoding@\mt@tmp\endcsname}%
        {\csname mt@family@\mt@tmp\endcsname}%
        {\csname mt@series@\mt@tmp\endcsname}%
        {\csname mt@shape@\mt@tmp\endcsname}%
    \edef\m@t@@encoding{\csname mt@encoding@\mt@tmp\endcsname}%
        \renewcommand{\encodingdefault}{\m@t@@encoding}%
%% some modifications for v1.15b
    \edef\m@t@@famdefault{\csname mt@family@\mt@tmp\endcsname}%
        \renewcommand{\familydefault}{\m@t@@famdefault}%
    \edef\m@t@@series{\csname mt@series@\mt@tmp\endcsname}%
        \renewcommand{\mddefault}{\m@t@@series}%
    \edef\m@t@@shape{\csname mt@shape@\mt@tmp\endcsname}%
        \renewcommand{\shapedefault}{\m@t@@shape}%
    \edef\m@t@@boldvariant{\csname mt@boldvariant@\mt@tmp\endcsname}%
        \renewcommand{\bfdefault}{\m@t@@boldvariant}%
    \edef\m@t@@itdefault{\csname mt@itdefault@\mt@tmp\endcsname}%
        \renewcommand{\itdefault}{\m@t@@itdefault}%
    \edef\m@t@@rmdefault{\csname mt@rmdefault@\mt@tmp\endcsname}%
        \renewcommand{\rmdefault}{\m@t@@rmdefault}%
    \edef\m@t@@sfdefault{\csname mt@sfdefault@\mt@tmp\endcsname}%
        \renewcommand{\sfdefault}{\m@t@@sfdefault}%
    \edef\m@t@@ttdefault{\csname mt@ttdefault@\mt@tmp\endcsname}%
        \renewcommand{\ttdefault}{\m@t@@ttdefault}%
%% v1.15e: muskips
    \expandafter\m@t@existsmuskip\csname mt@existsskip@\mt@tmp\endcsname
    \expandafter\m@t@forallmuskip\csname mt@forallskip@\mt@tmp\endcsname
%% v1.15c: extending subdued to LGRgreek
%% v1.15f: subdueing math alphabets in a simpler way than in 1.15e
\ifmt@subdued
\edef\mt@tmp{#2}\def\mt@tmpa{normal}%
\ifx\mt@tmp\mt@tmpa
\mt@restorealphabets\ifmt@LGRgreek\mt@restoregreek\fi
\else
\def\mt@tmpa{bold}%
\ifx\mt@tmp\mt@tmpa
\mt@restorealphabets\ifmt@LGRgreek\mt@restoregreek\fi
\else
\mt@setalphabets\ifmt@LGRgreek\mt@setuplgrgreek\fi
\fi\fi\fi
}
\let\MathastextVersion\MTVersion
\let\Mathastextversion\MTVersion
\let\MTversion\MTVersion
\Mathastext
\ifmt@eulergreek
      \typeout{** Greek letters will use the Euler font. Use^^J%
** \protect\MathastextEulerScale{<factor>} to scale the font.}
\else
\ifmt@symbolgreek
       \typeout{** Greek letters will use the PostScript Symbol font. Use^^J%
** \protect\MathastextSymbolScale{<factor>} to scale the font.}
\fi\fi
\DeclareMathSymbol{a}{\mathalpha}{mtletterfont}{`a}
\DeclareMathSymbol{b}{\mathalpha}{mtletterfont}{`b}
\DeclareMathSymbol{c}{\mathalpha}{mtletterfont}{`c}
\DeclareMathSymbol{d}{\mathalpha}{mtletterfont}{`d}
\DeclareMathSymbol{e}{\mathalpha}{mtletterfont}{`e}
\DeclareMathSymbol{f}{\mathalpha}{mtletterfont}{`f}
\DeclareMathSymbol{g}{\mathalpha}{mtletterfont}{`g}
\DeclareMathSymbol{h}{\mathalpha}{mtletterfont}{`h}
\DeclareMathSymbol{i}{\mathalpha}{mtletterfont}{`i}
\DeclareMathSymbol{j}{\mathalpha}{mtletterfont}{`j}
\DeclareMathSymbol{k}{\mathalpha}{mtletterfont}{`k}
\DeclareMathSymbol{l}{\mathalpha}{mtletterfont}{`l}
\DeclareMathSymbol{m}{\mathalpha}{mtletterfont}{`m}
\DeclareMathSymbol{n}{\mathalpha}{mtletterfont}{`n}
\DeclareMathSymbol{o}{\mathalpha}{mtletterfont}{`o}
\DeclareMathSymbol{p}{\mathalpha}{mtletterfont}{`p}
\DeclareMathSymbol{q}{\mathalpha}{mtletterfont}{`q}
\DeclareMathSymbol{r}{\mathalpha}{mtletterfont}{`r}
\DeclareMathSymbol{s}{\mathalpha}{mtletterfont}{`s}
\DeclareMathSymbol{t}{\mathalpha}{mtletterfont}{`t}
\DeclareMathSymbol{u}{\mathalpha}{mtletterfont}{`u}
\DeclareMathSymbol{v}{\mathalpha}{mtletterfont}{`v}
\DeclareMathSymbol{w}{\mathalpha}{mtletterfont}{`w}
\DeclareMathSymbol{x}{\mathalpha}{mtletterfont}{`x}
\DeclareMathSymbol{y}{\mathalpha}{mtletterfont}{`y}
\DeclareMathSymbol{z}{\mathalpha}{mtletterfont}{`z}
\ifmt@frenchmath\def\mt@font@tbu{mtoperatorfont}
   \else\def\mt@font@tbu{mtletterfont}\fi
\DeclareMathSymbol{A}{\mathalpha}{\mt@font@tbu}{`A}
\DeclareMathSymbol{B}{\mathalpha}{\mt@font@tbu}{`B}
\DeclareMathSymbol{C}{\mathalpha}{\mt@font@tbu}{`C}
\DeclareMathSymbol{D}{\mathalpha}{\mt@font@tbu}{`D}
\DeclareMathSymbol{E}{\mathalpha}{\mt@font@tbu}{`E}
\DeclareMathSymbol{F}{\mathalpha}{\mt@font@tbu}{`F}
\DeclareMathSymbol{G}{\mathalpha}{\mt@font@tbu}{`G}
\DeclareMathSymbol{H}{\mathalpha}{\mt@font@tbu}{`H}
\DeclareMathSymbol{I}{\mathalpha}{\mt@font@tbu}{`I}
\DeclareMathSymbol{J}{\mathalpha}{\mt@font@tbu}{`J}
\DeclareMathSymbol{K}{\mathalpha}{\mt@font@tbu}{`K}
\DeclareMathSymbol{L}{\mathalpha}{\mt@font@tbu}{`L}
\DeclareMathSymbol{M}{\mathalpha}{\mt@font@tbu}{`M}
\DeclareMathSymbol{N}{\mathalpha}{\mt@font@tbu}{`N}
\DeclareMathSymbol{O}{\mathalpha}{\mt@font@tbu}{`O}
\DeclareMathSymbol{P}{\mathalpha}{\mt@font@tbu}{`P}
\DeclareMathSymbol{Q}{\mathalpha}{\mt@font@tbu}{`Q}
\DeclareMathSymbol{R}{\mathalpha}{\mt@font@tbu}{`R}
\DeclareMathSymbol{S}{\mathalpha}{\mt@font@tbu}{`S}
\DeclareMathSymbol{T}{\mathalpha}{\mt@font@tbu}{`T}
\DeclareMathSymbol{U}{\mathalpha}{\mt@font@tbu}{`U}
\DeclareMathSymbol{V}{\mathalpha}{\mt@font@tbu}{`V}
\DeclareMathSymbol{W}{\mathalpha}{\mt@font@tbu}{`W}
\DeclareMathSymbol{X}{\mathalpha}{\mt@font@tbu}{`X}
\DeclareMathSymbol{Y}{\mathalpha}{\mt@font@tbu}{`Y}
\DeclareMathSymbol{Z}{\mathalpha}{\mt@font@tbu}{`Z}
%%
\ifmt@nodigits\else
\def\mt@font@tbu{mtoperatorfont}
\ifmt@symboldigits \def\mt@font@tbu{mtpsymbol} \fi
\ifmt@eulerdigits \def\mt@font@tbu{mteulervm} \fi
\DeclareMathSymbol{0}{\mathalpha}{\mt@font@tbu}{`0}
\DeclareMathSymbol{1}{\mathalpha}{\mt@font@tbu}{`1}
\DeclareMathSymbol{2}{\mathalpha}{\mt@font@tbu}{`2}
\DeclareMathSymbol{3}{\mathalpha}{\mt@font@tbu}{`3}
\DeclareMathSymbol{4}{\mathalpha}{\mt@font@tbu}{`4}
\DeclareMathSymbol{5}{\mathalpha}{\mt@font@tbu}{`5}
\DeclareMathSymbol{6}{\mathalpha}{\mt@font@tbu}{`6}
\DeclareMathSymbol{7}{\mathalpha}{\mt@font@tbu}{`7}
\DeclareMathSymbol{8}{\mathalpha}{\mt@font@tbu}{`8}
\DeclareMathSymbol{9}{\mathalpha}{\mt@font@tbu}{`9}
\fi
\ifmt@symboldelimiters
\def\mt@font@tbu{mtpsymbol}
\mt@endashfalse
\mt@emdashfalse
\else
\def\mt@font@tbu{mtoperatorfont}
\fi
%%
\ifmt@noexclam\else
\DeclareMathSymbol{!}{\mathclose}{\mt@font@tbu}{"21}
\DeclareMathSymbol{?}{\mathclose}{\mt@font@tbu}{"3F}
\fi
%%
\ifmt@noast\else
\DeclareMathSymbol{*}{\mathalpha}{\mt@font@tbu}{"2A}
\fi
\ifmt@nopunct\else
\DeclareMathSymbol{,}{\mathpunct}{\mt@font@tbu}{"2C}
\DeclareMathSymbol{.}{\mathord}{\mt@font@tbu}{"2E}
\DeclareMathSymbol{:}{\mathrel}{\mt@font@tbu}{"3A} % relation spacing
\@ifpackageloaded{amsmath}
    {} % \colon defined in amsmath.sty (enlarged punctuation spacing)
    {\let\colon\undefined  % no amsmath, use punctuation spacing
    \DeclareMathSymbol{\colon}{\mathpunct}{\mt@font@tbu}{"3A}}
\DeclareMathSymbol{;}{\mathpunct}{\mt@font@tbu}{"3B}
\fi
\ifmt@nominus\else
\ifXeTeX
\XeTeXmathcharnumdef\mt@minus@sign=\XeTeXmathcodenum`\-\relax
\else
\ifLuaTeX
%% \luatexUmathcharnumdef\mt@minus@sign=\luatexUmathcodenum`\-\relax ne
%% marche pas pour le moment car \luatexUmathcodenum retourne parfois un
%% legacy mathcode, parfois un Unicode mathcode, \`a mon avis c'est un bug
%% de LuaLatex. En fait Taco H me dit que la prochaine version
%% r\'eglera ce probl\`eme. \luatexUmathchardef\mt@minus@sign="2 "2 "0\relax
\mathchardef\mt@minus@sign=8704\relax % "2200
\else
\mathchardef\mt@minus@sign=\mathcode`\-\relax
\fi\fi
\@ifpackageloaded{amsmath}
{\def\relbar{\mathrel{\mathpalette\mathsm@sh\mt@minus@sign}}}
{\DeclareRobustCommand\relbar{\mathrel{\smash\mt@minus@sign}}}
\def\rightarrowfill{$\m@th\mathord{\relbar}\mkern-7mu%
  \cleaders\hbox{$\mkern-2mu\relbar\mkern-2mu$}\hfill
  \mkern-7mu\mathord\rightarrow$}
\def\leftarrowfill{$\m@th\mathord\leftarrow\mkern-7mu%
  \cleaders\hbox{$\mkern-2mu\relbar\mkern-2mu$}\hfill
  \mkern-7mu\mathord{\relbar}$}
\fi
\def\do@the@endashstuff{\edef\mt@tmp@enc{\encodingdefault}
  \ifx\mt@tmp@enc\mt@eui % xetex+fontspec
  \AtBeginDocument{\XeTeXmathcode`\-="2 \symmtoperatorfont "2013 \relax}
\else
\ifx\mt@tmp@enc\mt@euii % luatex+fontspec
  \AtBeginDocument{\luatexUmathcode`\-="2 \symmtoperatorfont "2013 \relax}
\ifx\mt@tmp@enc\mt@ti % T1
   \DeclareMathSymbol{-}{\mathbin}{mtoperatorfont}{21}
\else
\ifx\mt@tmp@enc\mt@oti % OT1
   \DeclareMathSymbol{-}{\mathbin}{mtoperatorfont}{123}
\else
\ifx\mt@tmp@enc\mt@lyi % LY1
   \DeclareMathSymbol{-}{\mathbin}{mtoperatorfont}{150}
\else % make sure we have neither xetex nor luatex
   \ifXeTeX\mt@aborttrue\else\ifLuaTeX\mt@aborttrue\else
   \DeclareMathSymbol{-}{\mathbin}{mtoperatorfont}
{\expandafter\the\expandafter\csname\mt@tmp@enc\string\textendash\endcsname}
   \fi\fi
\fi\fi\fi\fi\fi}
\def\do@the@emdashstuff{\edef\mt@tmp@enc{\encodingdefault}
\ifx\mt@tmp@enc\mt@eui % xetex+fontspec
  \AtBeginDocument{\XeTeXmathcode`\-="2 \symmtoperatorfont "2014 \relax}
\else
\ifx\mt@tmp@enc\mt@euii % luatex+fontspec
  \AtBeginDocument{\luatexUmathcode`\-="2 \symmtoperatorfont "2014 \relax}
\ifx\mt@tmp@enc\mt@ti % T1
   \DeclareMathSymbol{-}{\mathbin}{mtoperatorfont}{22}
\else
\ifx\mt@tmp@enc\mt@oti % OT1
   \DeclareMathSymbol{-}{\mathbin}{mtoperatorfont}{124}
\else
\ifx\mt@tmp@enc\mt@lyi % LY1
   \DeclareMathSymbol{-}{\mathbin}{mtoperatorfont}{151}
\else % make sure we have neither xetex nor luatex
   \ifXeTeX\mt@aborttrue\else\ifLuaTeX\mt@aborttrue\else
   \DeclareMathSymbol{-}{\mathbin}{mtoperatorfont}
{\expandafter\the\expandafter\csname\mt@tmp@enc\string\textemdash\endcsname}
   \fi\fi
\fi\fi\fi\fi\fi}
\ifmt@nominus\else
\mt@abortfalse
\ifmt@endash\do@the@endashstuff\else
\ifmt@emdash\do@the@emdashstuff\else
   \DeclareMathSymbol{-}{\mathbin}{\mt@font@tbu}{"2D}
\fi\fi
\ifmt@abort\DeclareMathSymbol{-}{\mathbin}{\mt@font@tbu}{"2D}\fi
\fi
%%\def\hbar{{\mathchar'26\mkern-9muh}}
%% (original definition from latex.ltx)
\def\mt@mathrlap{\mathpalette\mt@mathrlapinternal}
\def\mt@mathrlapinternal#1#2{\rlap{$\mathsurround=0pt#1{#2}$}}
\def\do@the@hbarstuff{\edef\mt@tmp@enc{\encodingdefault}
\ifx\mt@tmp@enc\mt@eui % xetex and unicode font
  \XeTeXmathchardef\hbar="7 \symmtletterfont "0127 \relax
\else
\ifx\mt@tmp@enc\mt@euii % luatex and unicode font
   \luatexUmathchardef\hbar="7 \symmtletterfont "0127 \relax %% or 210F?
\else % I must leave open the T1, OT1 possibility also for XeTeX or LuaTeX
    \ifx\mt@ti\mt@tmp@enc
    \DeclareMathAccent{\mt@ltbar}{\mathalpha}{mtletterfont}{9}
       \else  %% assume OT1. Bad idea? Should not provoke an error anyhow
    \DeclareMathAccent{\mt@ltbar}{\mathalpha}{mtletterfont}{22}
    \fi
    \def\hbar{\mt@mathrlap{\mt@ltbar{\ }}h}
\fi\fi}
\ifmt@nohbar\else\do@the@hbarstuff\fi
\ifmt@noplus\else
\DeclareMathSymbol{+}{\mathbin}{\mt@font@tbu}{"2B}
\fi
\ifmt@noequal\else
\ifXeTeX
\XeTeXmathcharnumdef\mt@equal@sign=\XeTeXmathcodenum`\=\relax
\else
\ifLuaTeX
%% 12 octobre 2012 \luatexUmathcodenum`\=
%% ne marche pas pour le moment \`a cause du fait que \luatexUmathcodenum
%% donne un mathcode sur 8bit ou un Unicode mathcode sans qu'on puisse
%% savoir lequel
%% \luatexUmathchardef\mt@equal@sign="3 "0 "3D\relax
\mathchardef\mt@equal@sign=12349\relax
\else
\mathchardef\mt@equal@sign=\mathcode`\=\relax
\fi\fi
\@ifpackageloaded{amsmath}
{\def\Relbar{\mathrel\mt@equal@sign}}
{\DeclareRobustCommand\Relbar{\mathrel{\mt@equal@sign}}}
\DeclareMathSymbol{=}{\mathrel}{\mt@font@tbu}{"3D}
\fi
\ifmt@noparen\else
\DeclareMathDelimiter{(}{\mathopen} {\mt@font@tbu}{"28}{largesymbols}{"00}
\DeclareMathDelimiter{)}{\mathclose}{\mt@font@tbu}{"29}{largesymbols}{"01}
\DeclareMathDelimiter{[}{\mathopen} {\mt@font@tbu}{"5B}{largesymbols}{"02}
\DeclareMathDelimiter{]}{\mathclose}{\mt@font@tbu}{"5D}{largesymbols}{"03}
\DeclareMathDelimiter{/}{\mathord}{\mt@font@tbu}{"2F}{largesymbols}{"0E}
\DeclareMathSymbol{/}{\mathord}{\mt@font@tbu}{"2F}
\fi
\ifmt@alldelims
\DeclareMathDelimiter{<}{\mathopen}{\mt@font@tbu}{"3C}{largesymbols}{"0A}
\DeclareMathDelimiter{>}{\mathclose}{\mt@font@tbu}{"3E}{largesymbols}{"0B}
\DeclareMathSymbol{<}{\mathrel}{\mt@font@tbu}{"3C}
\DeclareMathSymbol{>}{\mathrel}{\mt@font@tbu}{"3E}
\expandafter\DeclareMathDelimiter\@backslashchar
                        {\mathord}{mtoperatorfont}{"5C}{largesymbols}{"0F}
\DeclareMathDelimiter{\backslash}
    {\mathord}{mtoperatorfont}{"5C}{largesymbols}{"0F}
\DeclareMathSymbol\setminus\mathbin{mtoperatorfont}{"5C}
\ifXeTeX
\XeTeXmathcharnumdef\mt@vert@bar=\XeTeXmathcodenum`\|\relax
\else
\ifLuaTeX
%% \luatexUmathchardef\mt@vert@bar="0 "2 "006A\relax
\mathchardef\mt@vert@bar=618\relax
\else\mathchardef\mt@vert@bar=\mathcode`\|\relax
\fi\fi
\DeclareRobustCommand\models{\mathrel{\mt@vert@bar}\joinrel\Relbar}
\DeclareMathSymbol{|}\mathord{\mt@font@tbu}{"7C}
\DeclareMathDelimiter{|}{\mt@font@tbu}{"7C}{largesymbols}{"0C}
\DeclareMathDelimiter\vert
                 \mathord{\mt@font@tbu}{"7C}{largesymbols}{"0C}
\DeclareMathSymbol\mid\mathrel{\mt@font@tbu}{"7C}
\let\lbrace\undefined
\DeclareMathDelimiter{\lbrace}
   {\mathopen}{\mt@font@tbu}{"7B}{largesymbols}{"08}
\let\rbrace\undefined
\DeclareMathDelimiter{\rbrace}
   {\mathclose}{\mt@font@tbu}{"7D}{largesymbols}{"09}
\fi
\ifmt@nospecials\else
\ifXeTeX
  \XeTeXmathcode`\#=7 \symmtoperatorfont "0023 \relax
  \XeTeXmathcode`\$=7 \symmtoperatorfont "0024 \relax
  \XeTeXmathcode`\%=7 \symmtoperatorfont "0025 \relax
  \XeTeXmathcode`\&=7 \symmtoperatorfont "0026 \relax
\else
\ifLuaTeX
  \luatexUmathcode`\#=7 \symmtoperatorfont "0023 \relax
  \luatexUmathcode`\$=7 \symmtoperatorfont "0024 \relax
  \luatexUmathcode`\%=7 \symmtoperatorfont "0025 \relax
  \luatexUmathcode`\&=7 \symmtoperatorfont "0026 \relax
\else
\count255=\symmtoperatorfont
\multiply\count255 by 256
\advance\count255 by 28707 % "7023
    \mathcode`\#\count255
\advance\count255 by 1
    \mathcode`\$\count255
\advance\count255 by 1
    \mathcode`\%\count255
\advance\count255 by 1
    \mathcode`\&\count255
\fi\fi\fi
\ifmt@symbolmisc
\let\mst@prod\prod
\let\defaultprod\prod
\DeclareMathSymbol{\prodpsy}{\mathop}{mtpsymbol}{213}
\renewcommand{\prod}{\ifinner\prodpsy\else\mst@prod\fi}
\let\mst@sum\sum
\let\defaultsum\sum
\DeclareMathSymbol{\sumpsy}{\mathop}{mtpsymbol}{229}
\renewcommand{\sum}{\ifinner\sumpsy\else\mst@sum\fi}
\DeclareMathSymbol{\mt@implies}{\mathrel}{mtpsymbol}{222}
\DeclareRobustCommand{\implies}{\;\mt@implies\;}
\DeclareMathSymbol{\mt@impliedby}{\mathrel}{mtpsymbol}{220}
\DeclareRobustCommand{\impliedby}{\;\mt@impliedby\;}
\DeclareRobustCommand{\iff}{\;\mt@impliedby\mathrel{\mkern-3mu}\mt@implies\;}
\DeclareMathSymbol{\mt@iff}{\mathrel}{mtpsymbol}{219}
\DeclareRobustCommand{\shortiff}{\;\mt@iff\;}
\DeclareMathSymbol{\mt@to}{\mathrel}{mtpsymbol}{174}
\DeclareMathSymbol{\mt@trait}{\mathrel}{mtpsymbol}{190}
\DeclareRobustCommand\to{\mt@to}
\DeclareRobustCommand\longto{\mkern2mu\mt@trait\mathrel{\mkern-10mu}\mt@to}
\DeclareRobustCommand\mapsto{\mapstochar\mathrel{\mkern0.2mu}\mt@to}
\DeclareRobustCommand\longmapsto{%
\mapstochar\mathrel{\mkern2mu}\mt@trait\mathrel{\mkern-10mu}\mt@to}
\DeclareMathSymbol{\aleph}{\mathord}{mtpsymbol}{192}
\DeclareMathSymbol{\inftypsy}{\mathord}{mtpsymbol}{165}
\DeclareMathSymbol{\emptyset}{\mathord}{mtpsymbol}{198}
\let\varnothing\emptyset
\DeclareMathSymbol{\nabla}{\mathord}{mtpsymbol}{209}
\DeclareMathSymbol{\surd}{\mathop}{mtpsymbol}{214}
\let\angle\undefined
\DeclareMathSymbol{\angle}{\mathord}{mtpsymbol}{208}
\DeclareMathSymbol{\forall}{\mathord}{mtpsymbol}{34}
\DeclareMathSymbol{\exists}{\mathord}{mtpsymbol}{36}
\DeclareMathSymbol{\neg}{\mathord}{mtpsymbol}{216}
\DeclareMathSymbol{\clubsuit}{\mathord}{mtpsymbol}{167}
\DeclareMathSymbol{\diamondsuit}{\mathord}{mtpsymbol}{168}
\DeclareMathSymbol{\heartsuit}{\mathord}{mtpsymbol}{169}
\DeclareMathSymbol{\spadesuit}{\mathord}{mtpsymbol}{170}
\DeclareMathSymbol{\smallint}{\mathop}{mtpsymbol}{242}
\DeclareMathSymbol{\wedge}{\mathbin}{mtpsymbol}{217}
\DeclareMathSymbol{\vee}{\mathbin}{mtpsymbol}{218}
\DeclareMathSymbol{\cap}{\mathbin}{mtpsymbol}{199}
\DeclareMathSymbol{\cup}{\mathbin}{mtpsymbol}{200}
\DeclareMathSymbol{\bullet}{\mathbin}{mtpsymbol}{183}
\DeclareMathSymbol{\div}{\mathbin}{mtpsymbol}{184}
\DeclareMathSymbol{\otimes}{\mathbin}{mtpsymbol}{196}
\DeclareMathSymbol{\oplus}{\mathbin}{mtpsymbol}{197}
\DeclareMathSymbol{\pm}{\mathbin}{mtpsymbol}{177}
%%\DeclareMathSymbol{*}{\mathbin}{mtpsymbol}{42}
\DeclareMathSymbol{\ast}{\mathbin}{mtpsymbol}{42}
\DeclareMathSymbol{\times}{\mathbin}{mtpsymbol}{180}
\DeclareMathSymbol{\proptopsy}{\mathrel}{mtpsymbol}{181}
\DeclareMathSymbol{\mid}{\mathrel}{mtpsymbol}{124}
\DeclareMathSymbol{\leq}{\mathrel}{mtpsymbol}{163}
\DeclareMathSymbol{\geq}{\mathrel}{mtpsymbol}{179}
\DeclareMathSymbol{\approx}{\mathrel}{mtpsymbol}{187}
\DeclareMathSymbol{\supset}{\mathrel}{mtpsymbol}{201}
\DeclareMathSymbol{\subset}{\mathrel}{mtpsymbol}{204}
\DeclareMathSymbol{\supseteq}{\mathrel}{mtpsymbol}{202}
\DeclareMathSymbol{\subseteq}{\mathrel}{mtpsymbol}{205}
\DeclareMathSymbol{\in}{\mathrel}{mtpsymbol}{206}
\DeclareMathSymbol{\sim}{\mathrel}{mtpsymbol}{126}
\let\cong\undefined
\DeclareMathSymbol{\cong}{\mathrel}{mtpsymbol}{64}
\DeclareMathSymbol{\perp}{\mathrel}{mtpsymbol}{94}
\DeclareMathSymbol{\equiv}{\mathrel}{mtpsymbol}{186}
\let\notin\undefined
\DeclareMathSymbol{\notin}{\mathrel}{mtpsymbol}{207}
\DeclareMathDelimiter{\rangle}
   {\mathclose}{mtpsymbol}{241}{largesymbols}{"0B}
\DeclareMathDelimiter{\langle}
   {\mathopen}{mtpsymbol}{225}{largesymbols}{"0A}
\fi
\ifmt@symbolre
\DeclareMathSymbol{\Re}{\mathord}{mtpsymbol}{"C2}
\DeclareMathSymbol{\Im}{\mathord}{mtpsymbol}{"C1}
\DeclareMathSymbol{\DotTriangle}{\mathord}{mtpsymbol}{92}
\fi
\let\mt@mathord\mathalpha
\mt@goaheadtrue
\ifmt@selfGreek
    \def\mt@font@tbu{mtselfGreekfont}
 \else
\ifmt@eulergreek
    \def\mt@font@tbu{mteulervm}
 \else
\ifmt@symbolgreek
    \def\mt@font@tbu{mtpsymbol}
    \let\mt@mathord\mathord
 \else
\ifmt@LGRgreek
     \mt@goaheadfalse
 \else
       \mt@goaheadfalse
       \ifx\omicron\undefined
       \newcommand{\omicron}{\mt@alph@omicron{o}}
       \fi
\fi\fi\fi\fi
\ifmt@goahead
\DeclareMathSymbol{\Alpha}{\mt@mathord}{\mt@font@tbu}{"41}
\DeclareMathSymbol{\Beta}{\mt@mathord}{\mt@font@tbu}{"42}
\DeclareMathSymbol{\Epsilon}{\mt@mathord}{\mt@font@tbu}{"45}
\DeclareMathSymbol{\Zeta}{\mt@mathord}{\mt@font@tbu}{"5A}
\DeclareMathSymbol{\Eta}{\mt@mathord}{\mt@font@tbu}{"48}
\DeclareMathSymbol{\Iota}{\mt@mathord}{\mt@font@tbu}{"49}
\DeclareMathSymbol{\Kappa}{\mt@mathord}{\mt@font@tbu}{"4B}
\DeclareMathSymbol{\Mu}{\mt@mathord}{\mt@font@tbu}{"4D}
\DeclareMathSymbol{\Nu}{\mt@mathord}{\mt@font@tbu}{"4E}
\DeclareMathSymbol{\Omicron}{\mt@mathord}{\mt@font@tbu}{"4F}
\DeclareMathSymbol{\Rho}{\mt@mathord}{\mt@font@tbu}{"50}
\DeclareMathSymbol{\Tau}{\mt@mathord}{\mt@font@tbu}{"54}
\DeclareMathSymbol{\Chi}{\mt@mathord}{\mt@font@tbu}{"58}
\ifx\mt@mathord\mathord
%% attention le P de Symbol est un \Pi pas un \Rho
\DeclareMathSymbol{\Rho}{\mathord}{mtpsymbol}{"52}
%% attention le X de Symbol est un \Xi pas un \Chi
\DeclareMathSymbol{\Chi}{\mathord}{mtpsymbol}{"43}
%% attention le F de Symbol est un \Phi. Il n'y a pas de \Digamma
\DeclareMathSymbol{\Gamma}{\mathord}{mtpsymbol}{"47}
\DeclareMathSymbol{\Delta}{\mathord}{mtpsymbol}{"44}
\DeclareMathSymbol{\Theta}{\mathord}{mtpsymbol}{"51}
\DeclareMathSymbol{\Lambda}{\mathord}{mtpsymbol}{"4C}
\DeclareMathSymbol{\Xi}{\mathord}{mtpsymbol}{"58}
\DeclareMathSymbol{\Pi}{\mathord}{mtpsymbol}{"50}
\DeclareMathSymbol{\Sigma}{\mathord}{mtpsymbol}{"53}
\DeclareMathSymbol{\Upsilon}{\mathord}{mtpsymbol}{"A1}
\DeclareMathSymbol{\Phi}{\mathord}{mtpsymbol}{"46}
\DeclareMathSymbol{\Psi}{\mathord}{mtpsymbol}{"59}
\DeclareMathSymbol{\Omega}{\mathord}{mtpsymbol}{"57}
\else
\DeclareMathSymbol{\Digamma}{\mathalpha}{\mt@font@tbu}{"46}
\DeclareMathSymbol\Gamma    {\mathalpha}{\mt@font@tbu}{"00}
\DeclareMathSymbol\Delta    {\mathalpha}{\mt@font@tbu}{"01}
\DeclareMathSymbol\Theta    {\mathalpha}{\mt@font@tbu}{"02}
\DeclareMathSymbol\Lambda   {\mathalpha}{\mt@font@tbu}{"03}
\DeclareMathSymbol\Xi       {\mathalpha}{\mt@font@tbu}{"04}
\DeclareMathSymbol\Pi       {\mathalpha}{\mt@font@tbu}{"05}
\DeclareMathSymbol\Sigma    {\mathalpha}{\mt@font@tbu}{"06}
\DeclareMathSymbol\Upsilon  {\mathalpha}{\mt@font@tbu}{"07}
\DeclareMathSymbol\Phi      {\mathalpha}{\mt@font@tbu}{"08}
\DeclareMathSymbol\Psi      {\mathalpha}{\mt@font@tbu}{"09}
\DeclareMathSymbol\Omega    {\mathalpha}{\mt@font@tbu}{"0A}
\fi
\fi
\ifmt@goahead
\ifmt@eulergreek
\DeclareMathSymbol{\alpha}  {\mathalpha}{mteulervm}{"0B}
\DeclareMathSymbol{\beta}   {\mathalpha}{mteulervm}{"0C}
\DeclareMathSymbol{\gamma}  {\mathalpha}{mteulervm}{"0D}
\DeclareMathSymbol{\delta}  {\mathalpha}{mteulervm}{"0E}
\DeclareMathSymbol{\epsilon}{\mathalpha}{mteulervm}{"0F}
\DeclareMathSymbol{\zeta}   {\mathalpha}{mteulervm}{"10}
\DeclareMathSymbol{\eta}    {\mathalpha}{mteulervm}{"11}
\DeclareMathSymbol{\theta}  {\mathalpha}{mteulervm}{"12}
\DeclareMathSymbol{\iota}   {\mathalpha}{mteulervm}{"13}
\DeclareMathSymbol{\kappa}  {\mathalpha}{mteulervm}{"14}
\DeclareMathSymbol{\lambda} {\mathalpha}{mteulervm}{"15}
\DeclareMathSymbol{\mu}     {\mathalpha}{mteulervm}{"16}
\DeclareMathSymbol{\nu}     {\mathalpha}{mteulervm}{"17}
\DeclareMathSymbol{\xi}     {\mathalpha}{mteulervm}{"18}
\let\omicron\undefined
\DeclareMathSymbol{\omicron}{\mathalpha}{mteulervm}{"6F}
\DeclareMathSymbol{\pi}     {\mathalpha}{mteulervm}{"19}
\DeclareMathSymbol{\rho}    {\mathalpha}{mteulervm}{"1A}
\DeclareMathSymbol{\sigma}  {\mathalpha}{mteulervm}{"1B}
\DeclareMathSymbol{\tau}    {\mathalpha}{mteulervm}{"1C}
\DeclareMathSymbol{\upsilon}{\mathalpha}{mteulervm}{"1D}
\DeclareMathSymbol{\phi}    {\mathalpha}{mteulervm}{"1E}
\DeclareMathSymbol{\chi}    {\mathalpha}{mteulervm}{"1F}
\DeclareMathSymbol{\psi}    {\mathalpha}{mteulervm}{"20}
\DeclareMathSymbol{\omega}  {\mathalpha}{mteulervm}{"21}
\DeclareMathSymbol{\varepsilon}{\mathalpha}{mteulervm}{"22}
\DeclareMathSymbol{\vartheta}{\mathalpha}{mteulervm}{"23}
\DeclareMathSymbol{\varpi}  {\mathalpha}{mteulervm}{"24}
\let\varrho=\rho
\let\varsigma=\sigma
\DeclareMathSymbol{\varphi} {\mathalpha}{mteulervm}{"27}
\DeclareMathSymbol{\partial}{\mathalpha}{mteulervm}{"40}
\DeclareMathSymbol{\wp}{\mathalpha}{mteulervm}{"7D}
\DeclareMathSymbol{\ell}{\mathalpha}{mteulervm}{"60}
\else
\ifmt@symbolgreek
\DeclareMathSymbol{\alpha}{\mathord}{mtpsymbol}{"61}
\DeclareMathSymbol{\beta}{\mathord}{mtpsymbol}{"62}
\DeclareMathSymbol{\gamma}{\mathord}{mtpsymbol}{"67}
\DeclareMathSymbol{\delta}{\mathord}{mtpsymbol}{"64}
\DeclareMathSymbol{\epsilon}{\mathord}{mtpsymbol}{"65}
\DeclareMathSymbol{\zeta}{\mathord}{mtpsymbol}{"7A}
\DeclareMathSymbol{\eta}{\mathord}{mtpsymbol}{"68}
\DeclareMathSymbol{\theta}{\mathord}{mtpsymbol}{"71}
\DeclareMathSymbol{\iota}{\mathord}{mtpsymbol}{"69}
\DeclareMathSymbol{\kappa}{\mathord}{mtpsymbol}{"6B}
\DeclareMathSymbol{\lambda}{\mathord}{mtpsymbol}{"6C}
\DeclareMathSymbol{\mu}{\mathord}{mtpsymbol}{"6D}
\DeclareMathSymbol{\nu}{\mathord}{mtpsymbol}{"6E}
\DeclareMathSymbol{\xi}{\mathord}{mtpsymbol}{"78}
\let\omicron\undefined
\DeclareMathSymbol{\omicron}{\mathord}{mtpsymbol}{"6F}
\DeclareMathSymbol{\pi}{\mathord}{mtpsymbol}{"70}
\DeclareMathSymbol{\rho}{\mathord}{mtpsymbol}{"72}
\DeclareMathSymbol{\sigma}{\mathord}{mtpsymbol}{"73}
\DeclareMathSymbol{\tau}{\mathord}{mtpsymbol}{"74}
\DeclareMathSymbol{\upsilon}{\mathord}{mtpsymbol}{"75}
\DeclareMathSymbol{\phi}{\mathord}{mtpsymbol}{"66}
\DeclareMathSymbol{\chi}{\mathord}{mtpsymbol}{"63}
\DeclareMathSymbol{\psi}{\mathord}{mtpsymbol}{"79}
\DeclareMathSymbol{\omega}{\mathord}{mtpsymbol}{"77}
\let\varepsilon=\epsilon
\DeclareMathSymbol{\vartheta}{\mathord}{mtpsymbol}{"4A}
\DeclareMathSymbol{\varpi}{\mathord}{mtpsymbol}{"76}
\let\varrho=\rho
\DeclareMathSymbol{\varsigma}{\mathord}{mtpsymbol}{"56}
\DeclareMathSymbol{\varphi}{\mathord}{mtpsymbol}{"6A}
\DeclareMathSymbol{\partial}{\mathord}{mtpsymbol}{"B6}
\DeclareMathSymbol{\wp}{\mathord}{mtpsymbol}{"C3}
\fi\fi\fi
%%
\ifmt@LGRgreek % internal names for subdued implementation (1.15c-1.15e)
\let\m@t@origAlpha\Alpha
\let\m@t@origBeta\Beta
\let\m@t@origGamma\Gamma
\let\m@t@origDelta\Delta
\let\m@t@origEpsilon\Epsilon
\let\m@t@origZeta\Zeta
\let\m@t@origEta\Eta
\let\m@t@origTheta\Theta
\let\m@t@origIota\Iota
\let\m@t@origKappa\Kappa
\let\m@t@origLambda\Lambda
\let\m@t@origMu\Mu
\let\m@t@origNu\Nu
\let\m@t@origXi\Xi
\let\m@t@origOmicron\Omicron
\let\m@t@origPi\Pi
\let\m@t@origRho\Rho
\let\m@t@origSigma\Sigma
\let\m@t@origTau\Tau
\let\m@t@origUpsilon\Upsilon
\let\m@t@origPhi\Phi
\let\m@t@origChi\Chi
\let\m@t@origPsi\Psi
\let\m@t@origOmega\Omega
\let\m@t@origalpha\alpha
\let\m@t@origbeta\beta
\let\m@t@origgamma\gamma
\let\m@t@origdelta\delta
\let\m@t@origepsilon\epsilon
\let\m@t@origzeta\zeta
\let\m@t@origeta\eta
\let\m@t@origtheta\theta
\let\m@t@origiota\iota
\let\m@t@origkappa\kappa
\let\m@t@origlambda\lambda
\let\m@t@origmu\mu
\let\m@t@orignu\nu
\let\m@t@origxi\xi
\let\m@t@origomicron\omicron
\let\m@t@origpi\pi
\let\m@t@origrho\rho
\let\m@t@origvarsigma\varsigma
\let\m@t@origsigma\sigma
\let\m@t@origtau\tau
\let\m@t@origupsilon\upsilon
\let\m@t@origphi\phi
\let\m@t@origchi\chi
\let\m@t@origpsi\psi
\let\m@t@origomega\omega
\let\m@t@origDigamma\Digamma
\let\m@t@origdigamma\digamma
%%
\def\mt@restoregreek{%
\let\Alpha\m@t@origAlpha
\let\Beta\m@t@origBeta
\let\Gamma\m@t@origGamma
\let\Delta\m@t@origDelta
\let\Epsilon\m@t@origEpsilon
\let\Zeta\m@t@origZeta
\let\Eta\m@t@origEta
\let\Theta\m@t@origTheta
\let\Iota\m@t@origIota
\let\Kappa\m@t@origKappa
\let\Lambda\m@t@origLambda
\let\Mu\m@t@origMu
\let\Nu\m@t@origNu
\let\Xi\m@t@origXi
\let\Omicron\m@t@origOmicron
\let\Pi\m@t@origPi
\let\Rho\m@t@origRho
\let\Sigma\m@t@origSigma
\let\Tau\m@t@origTau
\let\Upsilon\m@t@origUpsilon
\let\Phi\m@t@origPhi
\let\Chi\m@t@origChi
\let\Psi\m@t@origPsi
\let\Omega\m@t@origOmega
\let\alpha\m@t@origalpha
\let\beta\m@t@origbeta
\let\gamma\m@t@origgamma
\let\delta\m@t@origdelta
\let\epsilon\m@t@origepsilon
\let\zeta\m@t@origzeta
\let\eta\m@t@origeta
\let\theta\m@t@origtheta
\let\iota\m@t@origiota
\let\kappa\m@t@origkappa
\let\lambda\m@t@origlambda
\let\mu\m@t@origmu
\let\nu\m@t@orignu
\let\xi\m@t@origxi
\let\omicron\m@t@origomicron
\let\pi\m@t@origpi
\let\rho\m@t@origrho
\let\varsigma\m@t@origvarsigma
\let\sigma\m@t@origsigma
\let\tau\m@t@origtau
\let\upsilon\m@t@origupsilon
\let\phi\m@t@origphi
\let\chi\m@t@origchi
\let\psi\m@t@origpsi
\let\omega\m@t@origomega
\let\Digamma\m@t@origDigamma
\let\digamma\m@t@origdigamma
}
%%
\def\mt@setuplgrgreek{%
\let\Alpha\m@t@Alpha
\let\Beta\m@t@Beta
\let\Gamma\m@t@Gamma
\let\Delta\m@t@Delta
\let\Epsilon\m@t@Epsilon
\let\Zeta\m@t@Zeta
\let\Eta\m@t@Eta
\let\Theta\m@t@Theta
\let\Iota\m@t@Iota
\let\Kappa\m@t@Kappa
\let\Lambda\m@t@Lambda
\let\Mu\m@t@Mu
\let\Nu\m@t@Nu
\let\Xi\m@t@Xi
\let\Omicron\m@t@Omicron
\let\Pi\m@t@Pi
\let\Rho\m@t@Rho
\let\Sigma\m@t@Sigma
\let\Tau\m@t@Tau
\let\Upsilon\m@t@Upsilon
\let\Phi\m@t@Phi
\let\Chi\m@t@Chi
\let\Psi\m@t@Psi
\let\Omega\m@t@Omega
\let\alpha\m@t@alpha
\let\beta\m@t@beta
\let\gamma\m@t@gamma
\let\delta\m@t@delta
\let\epsilon\m@t@epsilon
\let\zeta\m@t@zeta
\let\eta\m@t@eta
\let\theta\m@t@theta
\let\iota\m@t@iota
\let\kappa\m@t@kappa
\let\lambda\m@t@lambda
\let\mu\m@t@mu
\let\nu\m@t@nu
\let\xi\m@t@xi
\let\omicron\m@t@omicron
\let\pi\m@t@pi
\let\rho\m@t@rho
\let\varsigma\m@t@varsigma
\let\sigma\m@t@sigma
\let\tau\m@t@tau
\let\upsilon\m@t@upsilon
\let\phi\m@t@phi
\let\chi\m@t@chi
\let\psi\m@t@psi
\let\omega\m@t@omega
\let\Digamma\m@t@Digamma
\let\digamma\m@t@digamma
}
%%
\DeclareMathSymbol{\m@t@Alpha}{\mathalpha}{mtlgrfontupper}{65}
\DeclareMathSymbol{\m@t@Beta}{\mathalpha}{mtlgrfontupper}{66}
\DeclareMathSymbol{\m@t@Gamma}{\mathalpha}{mtlgrfontupper}{71}
\DeclareMathSymbol{\m@t@Delta}{\mathalpha}{mtlgrfontupper}{68}
\DeclareMathSymbol{\m@t@Epsilon}{\mathalpha}{mtlgrfontupper}{69}
\DeclareMathSymbol{\m@t@Zeta}{\mathalpha}{mtlgrfontupper}{90}
\DeclareMathSymbol{\m@t@Eta}{\mathalpha}{mtlgrfontupper}{72}
\DeclareMathSymbol{\m@t@Theta}{\mathalpha}{mtlgrfontupper}{74}
\DeclareMathSymbol{\m@t@Iota}{\mathalpha}{mtlgrfontupper}{73}
\DeclareMathSymbol{\m@t@Kappa}{\mathalpha}{mtlgrfontupper}{75}
\DeclareMathSymbol{\m@t@Lambda}{\mathalpha}{mtlgrfontupper}{76}
\DeclareMathSymbol{\m@t@Mu}{\mathalpha}{mtlgrfontupper}{77}
\DeclareMathSymbol{\m@t@Nu}{\mathalpha}{mtlgrfontupper}{78}
\DeclareMathSymbol{\m@t@Xi}{\mathalpha}{mtlgrfontupper}{88}
\DeclareMathSymbol{\m@t@Omicron}{\mathalpha}{mtlgrfontupper}{79}
\DeclareMathSymbol{\m@t@Pi}{\mathalpha}{mtlgrfontupper}{80}
\DeclareMathSymbol{\m@t@Rho}{\mathalpha}{mtlgrfontupper}{82}
\DeclareMathSymbol{\m@t@Sigma}{\mathalpha}{mtlgrfontupper}{83}
\DeclareMathSymbol{\m@t@Tau}{\mathalpha}{mtlgrfontupper}{84}
\DeclareMathSymbol{\m@t@Upsilon}{\mathalpha}{mtlgrfontupper}{85}
\DeclareMathSymbol{\m@t@Phi}{\mathalpha}{mtlgrfontupper}{70}
\DeclareMathSymbol{\m@t@Chi}{\mathalpha}{mtlgrfontupper}{81}
\DeclareMathSymbol{\m@t@Psi}{\mathalpha}{mtlgrfontupper}{89}
\DeclareMathSymbol{\m@t@Omega}{\mathalpha}{mtlgrfontupper}{87}
\DeclareMathSymbol{\m@t@alpha}{\mathalpha}{mtlgrfontlower}{97}
\DeclareMathSymbol{\m@t@beta}{\mathalpha}{mtlgrfontlower}{98}
\DeclareMathSymbol{\m@t@gamma}{\mathalpha}{mtlgrfontlower}{103}
\DeclareMathSymbol{\m@t@delta}{\mathalpha}{mtlgrfontlower}{100}
\DeclareMathSymbol{\m@t@epsilon}{\mathalpha}{mtlgrfontlower}{101}
\DeclareMathSymbol{\m@t@zeta}{\mathalpha}{mtlgrfontlower}{122}
\DeclareMathSymbol{\m@t@eta}{\mathalpha}{mtlgrfontlower}{104}
\DeclareMathSymbol{\m@t@theta}{\mathalpha}{mtlgrfontlower}{106}
\DeclareMathSymbol{\m@t@iota}{\mathalpha}{mtlgrfontlower}{105}
\DeclareMathSymbol{\m@t@kappa}{\mathalpha}{mtlgrfontlower}{107}
\DeclareMathSymbol{\m@t@lambda}{\mathalpha}{mtlgrfontlower}{108}
\DeclareMathSymbol{\m@t@mu}{\mathalpha}{mtlgrfontlower}{109}
\DeclareMathSymbol{\m@t@nu}{\mathalpha}{mtlgrfontlower}{110}
\DeclareMathSymbol{\m@t@xi}{\mathalpha}{mtlgrfontlower}{120}
\DeclareMathSymbol{\m@t@omicron}{\mathalpha}{mtlgrfontlower}{111}
\DeclareMathSymbol{\m@t@pi}{\mathalpha}{mtlgrfontlower}{112}
\DeclareMathSymbol{\m@t@rho}{\mathalpha}{mtlgrfontlower}{114}
\DeclareMathSymbol{\m@t@varsigma}{\mathalpha}{mtlgrfontlower}{99}
\DeclareMathSymbol{\m@t@sigma}{\mathalpha}{mtlgrfontlower}{115}
\DeclareMathSymbol{\m@t@tau}{\mathalpha}{mtlgrfontlower}{116}
\DeclareMathSymbol{\m@t@upsilon}{\mathalpha}{mtlgrfontlower}{117}
\DeclareMathSymbol{\m@t@phi}{\mathalpha}{mtlgrfontlower}{102}
\DeclareMathSymbol{\m@t@chi}{\mathalpha}{mtlgrfontlower}{113}
\DeclareMathSymbol{\m@t@psi}{\mathalpha}{mtlgrfontlower}{121}
\DeclareMathSymbol{\m@t@omega}{\mathalpha}{mtlgrfontlower}{119}
\DeclareMathSymbol{\m@t@digamma}{\mathalpha}{mtlgrfontlower}{147}
\DeclareMathSymbol{\m@t@Digamma}{\mathalpha}{mtlgrfontlower}{195}
\ifmt@subdued\else\mt@setuplgrgreek\fi
\fi
\edef\mt@tmp@enc{\encodingdefault}
\mt@goaheadtrue
\ifx\mt@tmp@enc\mt@eui % xetex and unicode font
  \XeTeXmathchardef\inodot="7 \symmtletterfont "0131 \relax
  \XeTeXmathchardef\jnodot="7 \symmtletterfont "0237 \relax
\else
\ifx\mt@tmp@enc\mt@euii % luatex and unicode font
   \luatexUmathchardef\inodot="7 \symmtletterfont "0131 \relax
   \luatexUmathchardef\jnodot="7 \symmtletterfont "0237 \relax
\else
\ifx\mt@tmp@enc\mt@ti % T1
   \DeclareMathSymbol{\inodot}{\mathalpha}{mtletterfont}{25}
   \DeclareMathSymbol{\jnodot}{\mathalpha}{mtletterfont}{26}
\else
\ifx\mt@tmp@enc\mt@oti % OT1
   \DeclareMathSymbol{\inodot}{\mathalpha}{mtletterfont}{16}
   \DeclareMathSymbol{\jnodot}{\mathalpha}{mtletterfont}{17}
\else
\ifx\mt@tmp@enc\mt@lyi % LY1
   \DeclareMathSymbol{\inodot}{\mathalpha}{mtletterfont}{16}
   \DeclareMathSymbol{\jnodot}{\mathalpha}{mtletterfont}{17}
\else
   \ifXeTeX\mt@goaheadfalse\else\ifLuaTeX\mt@goaheadfalse\else
   \DeclareMathSymbol{\inodot}{\mathalpha}{mtletterfont}
{\expandafter\the\expandafter\csname\mt@tmp@enc\string\i\endcsname}
   \DeclareMathSymbol{\jnodot}{\mathalpha}{mtletterfont}
{\expandafter\the\expandafter\csname\mt@tmp@enc\string\j\endcsname}
   \fi\fi
\fi\fi\fi\fi\fi
\ifmt@defaultimath\else
  \ifmt@goahead
    \renewcommand{\imath}{\inodot}
    \renewcommand{\jmath}{\jnodot}
    \let\mt@oldi\i \let\mt@oldj\j
    \DeclareRobustCommand{\i}{\ifmmode\inodot\else\mt@oldi\fi}
    \DeclareRobustCommand{\j}{\ifmmode\jnodot\else\mt@oldj\fi}
  \fi
\fi
\edef\mt@tmp@enc{\encodingdefault} %% rather one too many than sorry
\ifmt@mathaccents
\ifx\mt@ti\mt@tmp@enc
\DeclareMathAccent{\acute}{\mathalpha}{mtoperatorfont}{1}
\DeclareMathAccent{\grave}{\mathalpha}{mtoperatorfont}{0}
\DeclareMathAccent{\ddot}{\mathalpha}{mtoperatorfont}{4}
\DeclareMathAccent{\tilde}{\mathalpha}{mtoperatorfont}{3}
\DeclareMathAccent{\bar}{\mathalpha}{mtoperatorfont}{9}
\DeclareMathAccent{\breve}{\mathalpha}{mtoperatorfont}{8}
\DeclareMathAccent{\check}{\mathalpha}{mtoperatorfont}{7}
\DeclareMathAccent{\hat}{\mathalpha}{mtoperatorfont}{2}
\DeclareMathAccent{\dot}{\mathalpha}{mtoperatorfont}{10}
\DeclareMathAccent{\mathring}{\mathalpha}{mtoperatorfont}{6}
\else
\DeclareMathAccent{\acute}{\mathalpha}{mtoperatorfont}{19}
\DeclareMathAccent{\grave}{\mathalpha}{mtoperatorfont}{18}
\DeclareMathAccent{\ddot}{\mathalpha}{mtoperatorfont}{127}
\DeclareMathAccent{\tilde}{\mathalpha}{mtoperatorfont}{126}
\DeclareMathAccent{\bar}{\mathalpha}{mtoperatorfont}{22}
\DeclareMathAccent{\breve}{\mathalpha}{mtoperatorfont}{21}
\DeclareMathAccent{\check}{\mathalpha}{mtoperatorfont}{20}
\DeclareMathAccent{\hat}{\mathalpha}{mtoperatorfont}{94}
\DeclareMathAccent{\dot}{\mathalpha}{mtoperatorfont}{95}
\DeclareMathAccent{\mathring}{\mathalpha}{mtoperatorfont}{23}
  \ifx\mt@lyi\mt@tmp@enc   % LY1 encoding
    \DeclareMathAccent{\dot}{\mathalpha}{mtoperatorfont}{5}
  \else
     \ifx\mt@oti\mt@tmp@enc\else
      \typeout{** mathastext: math accents have been assumed to be^^J%
        ** as in OT1 encoding.}
      \fi
   \fi
\fi\fi
\ifmt@defaultsizes\else
\providecommand\@xxxpt{29.86}
\providecommand\@xxxvipt{35.83}
\ifmt@twelve
  \def\Huge{\@setfontsize\Huge\@xxxpt{36}}
  \def\HUGE{\@setfontsize\HUGE\@xxxvipt{43}}
\typeout{** \protect\Huge\space and \protect\HUGE\space have been (re)-defined.}
\else
  \def\HUGE{\@setfontsize\HUGE\@xxxpt{36}}
\typeout{** \protect\HUGE\space has been (re)-defined.}
\fi
\def\defaultscriptratio{.8333}
\def\defaultscriptscriptratio{.7}
\DeclareMathSizes{9}{9}{7}{5}
\DeclareMathSizes{\@xpt}{\@xpt}{8}{6}
\DeclareMathSizes{\@xipt}{\@xipt}{9}{7}
\DeclareMathSizes{\@xiipt}{\@xiipt}{10}{8}
\DeclareMathSizes{\@xivpt}{\@xivpt}{\@xiipt}{10}
\DeclareMathSizes{\@xviipt}{\@xviipt}{\@xivpt}{\@xiipt}
\DeclareMathSizes{\@xxpt}{\@xxpt}{\@xviipt}{\@xivpt}
\DeclareMathSizes{\@xxvpt}{\@xxvpt}{\@xxpt}{\@xviipt}
\DeclareMathSizes{\@xxxpt}{\@xxxpt}{\@xxvpt}{\@xxpt}
\DeclareMathSizes{\@xxxvipt}{\@xxxvipt}{\@xxxpt}{\@xxvpt}
\typeout{** mathastext has declared larger sizes for subscripts.^^J%
** To keep LaTeX defaults, use option `defaultmathsizes'.}
\fi
\AtBeginDocument{
\ifmt@needsymbol
  \DeclareFontFamily{U}{psy}{}
  \DeclareFontShape{U}{psy}{m}{n}{<->s*[\psy@scale] psyr}{}
  \fi
}
\let\mt@stdexists\exists
\let\mt@stdforall\forall
\renewcommand\exists{\mt@stdexists\mskip\m@t@existsmuskip}
\renewcommand\forall{\mt@stdforall\mskip\m@t@forallmuskip}
\ifmt@subdued
\typeout{** ...entering subdued mode...}
\expandafter\SetSymbolFont@ \expandafter\mv@normal\mt@normalmv@letter\symmtletterfont
\expandafter\SetSymbolFont@ \expandafter\mv@bold\mt@boldmv@letter\symmtletterfont
\expandafter\SetSymbolFont@ \expandafter\mv@normal\mt@normalmv@operator\symmtoperatorfont
\expandafter\SetSymbolFont@ \expandafter\mv@bold\mt@boldmv@operator\symmtoperatorfont
\typeout{** ...done.}
\fi
\endinput
%%
%% End of file `mathastext.sty'.
